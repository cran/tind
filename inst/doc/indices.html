<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Grzegorz Klima" />


<title>Working with Different Types of Time Indices Using tind Class</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Working with Different Types of Time
Indices Using <code>tind</code> Class</h1>
<h4 class="author">Grzegorz Klima</h4>



<p><code>tind</code> class is designed to represent time indices of
different types and perform computations with them. Indices are
represented as vectors of integers or doubles. The following types of
time indices are supported:</p>
<ul>
<li>years,</li>
<li>quarters,</li>
<li>months,</li>
<li>weeks (ISO 8601),</li>
<li>dates,</li>
<li>time of day,</li>
<li>date-time,</li>
<li>arbitrary integer and numeric indices.</li>
</ul>
<p>Time indices can be constructed via calls to <code>tind</code>
constructor, using <code>as.tind</code> methods, or by calling
<code>parse_t</code> and <code>strptind</code> functions for parsing
arbitrary time index formats.</p>
<p>Before proceeding, let us load the package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tind&quot;</span>)</span></code></pre></div>
<div id="years" class="section level2">
<h2>Years</h2>
<p>The internal code for years is <code>y</code>.</p>
<p>The simplest way to construct year indices is to invoke
<code>tind</code> constructor with a single argument <code>y</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2010</span><span class="sc">:</span><span class="dv">2020</span>))</span></code></pre></div>
<pre><code>## year [tind]
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020</code></pre>
<p>In <code>as.tind</code> method, integers in range 1800–2199 are
automatically interpreted as years. For instance:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="dv">2010</span><span class="sc">:</span><span class="dv">2020</span>))</span></code></pre></div>
<pre><code>## year [tind]
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020</code></pre>
<p>To let <code>as.tind</code> know that numbers outside 1800–2199 range
should be interpreted as years, <code>type</code> argument has to be
provided as in:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="dv">1700</span>, <span class="dv">1800</span>, <span class="dv">1900</span>, <span class="dv">2000</span>, <span class="dv">2100</span>), <span class="at">type =</span> <span class="st">&quot;y&quot;</span>))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1700 1800 1900 2000 2100</code></pre>
<p>Convenience function <code>as.year</code> is a shortcut for
<code>as.tind(*, type = &quot;y&quot;)</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.year</span>(<span class="fu">c</span>(<span class="dv">1700</span>, <span class="dv">1800</span>, <span class="dv">1900</span>, <span class="dv">2000</span>, <span class="dv">2100</span>)))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1700 1800 1900 2000 2100</code></pre>
<p>Four-digit character strings in the format <code>YYYY</code> are also
automatically interpreted as year indices:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="st">&quot;1700&quot;</span>, <span class="st">&quot;1800&quot;</span>)))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1700 1800</code></pre>
<p>Years as four-digit strings are indicated by <code>%Y</code> format
specifier. The last examples could also be written as:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="st">&quot;1700&quot;</span>, <span class="st">&quot;1800&quot;</span>, <span class="st">&quot;1900&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;2100&quot;</span>), <span class="at">format =</span> <span class="st">&quot;%Y&quot;</span>))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1700 1800 1900 2000 2100</code></pre>
<p>Two-digit year indices are indicated by <code>%y</code> format
specifier. By default, numbers in range 69–99 are interpreted as years
1969–1999 and numbers 00–68 as years 2000–2068:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="st">&quot;98&quot;</span>, <span class="st">&quot;99&quot;</span>, <span class="st">&quot;00&quot;</span>, <span class="st">&quot;01&quot;</span>, <span class="st">&quot;02&quot;</span>), <span class="at">format =</span> <span class="st">&quot;%y&quot;</span>))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1998 1999 2000 2001 2002</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">format</span>(ys, <span class="st">&quot;%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1998&quot; &quot;1999&quot; &quot;2000&quot; &quot;2001&quot; &quot;2002&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">format</span>(ys, <span class="st">&quot;%y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;98&quot; &quot;99&quot; &quot;00&quot; &quot;01&quot; &quot;02&quot;</code></pre>
<p><code>as.year</code> guesses short year format:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>(ys <span class="ot">&lt;-</span> <span class="fu">as.year</span>(<span class="fu">c</span>(<span class="st">&quot;98&quot;</span>, <span class="st">&quot;99&quot;</span>, <span class="st">&quot;00&quot;</span>, <span class="st">&quot;01&quot;</span>, <span class="st">&quot;02&quot;</span>)))</span></code></pre></div>
<pre><code>## year [tind]
## [1] 1998 1999 2000 2001 2002</code></pre>
<p>Treatment of two-digit years is controlled by
<code>tind.abbr.year.start</code> option.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&quot;tind.abbr.year.start&quot;</span>)</span></code></pre></div>
<pre><code>## $tind.abbr.year.start
## [1] 69</code></pre>
</div>
<div id="quarters" class="section level2">
<h2>Quarters</h2>
<p>The internal code for quarters is <code>q</code>.</p>
<p>Quarters can be constructed using <code>tind</code> constructor with
arguments <code>y</code> and <code>q</code>. Arguments of
<code>tind</code> constructor are recycled if necessary.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>(qs <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="fu">rep</span>(<span class="dv">2020</span><span class="sc">:</span><span class="dv">2023</span>, <span class="at">each =</span> <span class="dv">4</span>), <span class="at">q =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span></code></pre></div>
<pre><code>## quarter [tind]
##  [1] 2020Q1 2020Q2 2020Q3 2020Q4 2021Q1 2021Q2 2021Q3 2021Q4 2022Q1 2022Q2
## [11] 2022Q3 2022Q4 2023Q1 2023Q2 2023Q3 2023Q4</code></pre>
<p>The default format for quarters is <code>&quot;%YQ%q&quot;</code>, where
<code>%q</code> format specifier is a <code>tind</code> extension giving
quarter number. This will be automatically recognized:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>(qs <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="st">&quot;2020Q1&quot;</span>, <span class="st">&quot;2020Q2&quot;</span>, <span class="st">&quot;2020Q3&quot;</span>, <span class="st">&quot;2020Q4&quot;</span>)))</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2020Q1 2020Q2 2020Q3 2020Q4</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">format</span>(qs)</span></code></pre></div>
<pre><code>## [1] &quot;2020Q1&quot; &quot;2020Q2&quot; &quot;2020Q3&quot; &quot;2020Q4&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">format</span>(qs, <span class="st">&quot;%YQ%q&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2020Q1&quot; &quot;2020Q2&quot; &quot;2020Q3&quot; &quot;2020Q4&quot;</code></pre>
<p>Less popular formats can be parsed using combinations of
<code>%Y</code> (or <code>%y</code>) and<code>%q</code> specifiers.
Consider <code>YYYY.Q</code> format:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2023.2&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%Y.%q&quot;</span>)</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2023Q2</code></pre>
<p>One can also specify the order of index components using
<code>order</code> argument:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2023.2&quot;</span>, <span class="at">order =</span> <span class="st">&quot;yq&quot;</span>)</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2023Q2</code></pre>
<p>If order is <code>yq</code>, quarters will be automatically parsed if
<code>type = &quot;q&quot;</code> is set:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="fu">c</span>(<span class="st">&quot;2020 1&quot;</span>, <span class="st">&quot;2020 2&quot;</span>, <span class="st">&quot;2020 3&quot;</span>, <span class="st">&quot;2020 4&quot;</span>), <span class="at">type =</span> <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2020Q1 2020Q2 2020Q3 2020Q4</code></pre>
<p>Convenience function <code>as.quarter</code> is a shortcut for
<code>as.tind(*, type = &quot;q&quot;)</code>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="fu">as.quarter</span>(<span class="fu">c</span>(<span class="st">&quot;2020 1&quot;</span>, <span class="st">&quot;2020 2&quot;</span>, <span class="st">&quot;2020 3&quot;</span>, <span class="st">&quot;2020 4&quot;</span>))</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2020Q1 2020Q2 2020Q3 2020Q4</code></pre>
<p>Packages <code>stats</code> and <code>zoo</code> (class
<code>yearqrt</code>) represent quarters as year fractions with e.g.,
<code>2020.0</code>, <code>2020.25</code>, <code>2020.5</code>,
<code>2020.75</code> representing <code>2020Q1</code>,
<code>2020Q2</code>, <code>2020Q3</code>, <code>2020Q4</code>
respectively. Conversion from this format can be done using
<code>yf2tind</code> function.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="fu">yf2tind</span>(<span class="dv">2020</span> <span class="sc">+</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">/</span> <span class="dv">4</span>, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre><code>## quarter [tind]
## [1] 2020Q1 2020Q2 2020Q3 2020Q4</code></pre>
</div>
<div id="months" class="section level2">
<h2>Months</h2>
<p>The internal code for months is <code>m</code>.</p>
<p>Months can be constructed using <code>tind</code> constructor with
arguments <code>y</code> and <code>m</code>. Arguments of
<code>tind</code> constructor are recycled if necessary.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>(ms <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2023</span>, <span class="at">m =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>))</span></code></pre></div>
<pre><code>## month [tind]
##  [1] 2023-01 2023-02 2023-03 2023-04 2023-05 2023-06 2023-07 2023-08 2023-09
## [10] 2023-10 2023-11 2023-12</code></pre>
<p>The default format for months is <code>&quot;%Y-%m&quot;</code>, where
<code>%m</code> format specifier represents month as a two-digit
number.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="fu">format</span>(ms)</span></code></pre></div>
<pre><code>##  [1] &quot;2023-01&quot; &quot;2023-02&quot; &quot;2023-03&quot; &quot;2023-04&quot; &quot;2023-05&quot; &quot;2023-06&quot; &quot;2023-07&quot;
##  [8] &quot;2023-08&quot; &quot;2023-09&quot; &quot;2023-10&quot; &quot;2023-11&quot; &quot;2023-12&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="fu">format</span>(ms, <span class="st">&quot;%Y-%m&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2023-01&quot; &quot;2023-02&quot; &quot;2023-03&quot; &quot;2023-04&quot; &quot;2023-05&quot; &quot;2023-06&quot; &quot;2023-07&quot;
##  [8] &quot;2023-08&quot; &quot;2023-09&quot; &quot;2023-10&quot; &quot;2023-11&quot; &quot;2023-12&quot;</code></pre>
<p>If order is <code>ym</code>, months will be automatically parsed if
<code>type = &quot;m&quot;</code> is set:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2023-11&quot;</span>, <span class="at">type =</span> <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre><code>## month [tind]
## [1] 2023-11</code></pre>
<p>Convenience function <code>as.month</code> is a shortcut for
<code>as.tind(*, type = &quot;m&quot;)</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="fu">as.month</span>(<span class="st">&quot;2023-11&quot;</span>)</span></code></pre></div>
<pre><code>## month [tind]
## [1] 2023-11</code></pre>
<p>Format specifier <code>%b</code> denotes abbreviated month name as in
the following example. See documentation of <code>month_names</code> for
discussion of locale settings.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>(shrtms <span class="ot">&lt;-</span> <span class="fu">format</span>(ms, <span class="st">&quot;%b %y&quot;</span>, <span class="at">locale =</span> <span class="st">&quot;C&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] &quot;Jan 23&quot; &quot;Feb 23&quot; &quot;Mar 23&quot; &quot;Apr 23&quot; &quot;May 23&quot; &quot;Jun 23&quot; &quot;Jul 23&quot; &quot;Aug 23&quot;
##  [9] &quot;Sep 23&quot; &quot;Oct 23&quot; &quot;Nov 23&quot; &quot;Dec 23&quot;</code></pre>
<p>The above can be parsed using format specification or using order
specification (with month first).</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="fu">as.tind</span>(shrtms, <span class="at">format =</span> <span class="st">&quot;%b %y&quot;</span>, <span class="at">locale =</span> <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<pre><code>## month [tind]
##  [1] 2023-01 2023-02 2023-03 2023-04 2023-05 2023-06 2023-07 2023-08 2023-09
## [10] 2023-10 2023-11 2023-12</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="fu">as.tind</span>(shrtms, <span class="at">order =</span> <span class="st">&quot;my&quot;</span>, <span class="at">locale =</span> <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<pre><code>## month [tind]
##  [1] 2023-01 2023-02 2023-03 2023-04 2023-05 2023-06 2023-07 2023-08 2023-09
## [10] 2023-10 2023-11 2023-12</code></pre>
<p>Packages <code>stats</code> and <code>zoo</code> (class
<code>yearmon</code>) represent months as year fractions with e.g.,
<code>2020.0</code>, <code>2020.0833</code>, <code>2020.1667</code>,
<code>2020.25</code> representing <code>2020-01</code>,
<code>2020-01</code>, <code>2020-03</code>, <code>2020-04</code>
respectively. Conversion from this format can be done using
<code>yf2tind</code> function.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="fu">yf2tind</span>(<span class="dv">2020</span> <span class="sc">+</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">11</span>) <span class="sc">/</span> <span class="dv">12</span>, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre><code>## month [tind]
##  [1] 2020-01 2020-02 2020-03 2020-04 2020-05 2020-06 2020-07 2020-08 2020-09
## [10] 2020-10 2020-11 2020-12</code></pre>
</div>
<div id="weeks-iso-8601" class="section level2">
<h2>Weeks (ISO 8601)</h2>
<p><code>tind</code> supports ISO 8610 weeks i.e. weeks starting on
Monday with the first week in a year being the week with the first
Thursday in a year. See <a href="https://en.wikipedia.org/wiki/ISO_week_date" class="uri">https://en.wikipedia.org/wiki/ISO_week_date</a>.</p>
<p>The internal code for weeks is <code>w</code>.</p>
<p>Weeks can be constructed using <code>tind</code> constructor with
arguments <code>y</code> and <code>w</code>. Arguments of
<code>tind</code> constructor are recycled if necessary.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>(ws <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">w =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>))</span></code></pre></div>
<pre><code>## week [tind]
##  [1] 2024-W01 2024-W02 2024-W03 2024-W04 2024-W05 2024-W06 2024-W07 2024-W08
##  [9] 2024-W09 2024-W10 2024-W11 2024-W12 2024-W13 2024-W14 2024-W15 2024-W16
## [17] 2024-W17 2024-W18 2024-W19 2024-W20 2024-W21 2024-W22 2024-W23 2024-W24
## [25] 2024-W25 2024-W26 2024-W27 2024-W28 2024-W29 2024-W30 2024-W31 2024-W32
## [33] 2024-W33 2024-W34 2024-W35 2024-W36 2024-W37 2024-W38 2024-W39 2024-W40
## [41] 2024-W41 2024-W42 2024-W43 2024-W44 2024-W45 2024-W46 2024-W47 2024-W48
## [49] 2024-W49 2024-W50 2024-W51 2024-W52</code></pre>
<p>The default format for weeks is <code>%G-W%V</code>, where
<code>%G</code> is the week-based year (ISO week-numbering year, ISO
year) and <code>%V</code> ISO week number.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="fu">format</span>(ws)</span></code></pre></div>
<pre><code>##  [1] &quot;2024-W01&quot; &quot;2024-W02&quot; &quot;2024-W03&quot; &quot;2024-W04&quot; &quot;2024-W05&quot; &quot;2024-W06&quot;
##  [7] &quot;2024-W07&quot; &quot;2024-W08&quot; &quot;2024-W09&quot; &quot;2024-W10&quot; &quot;2024-W11&quot; &quot;2024-W12&quot;
## [13] &quot;2024-W13&quot; &quot;2024-W14&quot; &quot;2024-W15&quot; &quot;2024-W16&quot; &quot;2024-W17&quot; &quot;2024-W18&quot;
## [19] &quot;2024-W19&quot; &quot;2024-W20&quot; &quot;2024-W21&quot; &quot;2024-W22&quot; &quot;2024-W23&quot; &quot;2024-W24&quot;
## [25] &quot;2024-W25&quot; &quot;2024-W26&quot; &quot;2024-W27&quot; &quot;2024-W28&quot; &quot;2024-W29&quot; &quot;2024-W30&quot;
## [31] &quot;2024-W31&quot; &quot;2024-W32&quot; &quot;2024-W33&quot; &quot;2024-W34&quot; &quot;2024-W35&quot; &quot;2024-W36&quot;
## [37] &quot;2024-W37&quot; &quot;2024-W38&quot; &quot;2024-W39&quot; &quot;2024-W40&quot; &quot;2024-W41&quot; &quot;2024-W42&quot;
## [43] &quot;2024-W43&quot; &quot;2024-W44&quot; &quot;2024-W45&quot; &quot;2024-W46&quot; &quot;2024-W47&quot; &quot;2024-W48&quot;
## [49] &quot;2024-W49&quot; &quot;2024-W50&quot; &quot;2024-W51&quot; &quot;2024-W52&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">format</span>(ws, <span class="at">format =</span> <span class="st">&quot;%G-W%V&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2024-W01&quot; &quot;2024-W02&quot; &quot;2024-W03&quot; &quot;2024-W04&quot; &quot;2024-W05&quot; &quot;2024-W06&quot;
##  [7] &quot;2024-W07&quot; &quot;2024-W08&quot; &quot;2024-W09&quot; &quot;2024-W10&quot; &quot;2024-W11&quot; &quot;2024-W12&quot;
## [13] &quot;2024-W13&quot; &quot;2024-W14&quot; &quot;2024-W15&quot; &quot;2024-W16&quot; &quot;2024-W17&quot; &quot;2024-W18&quot;
## [19] &quot;2024-W19&quot; &quot;2024-W20&quot; &quot;2024-W21&quot; &quot;2024-W22&quot; &quot;2024-W23&quot; &quot;2024-W24&quot;
## [25] &quot;2024-W25&quot; &quot;2024-W26&quot; &quot;2024-W27&quot; &quot;2024-W28&quot; &quot;2024-W29&quot; &quot;2024-W30&quot;
## [31] &quot;2024-W31&quot; &quot;2024-W32&quot; &quot;2024-W33&quot; &quot;2024-W34&quot; &quot;2024-W35&quot; &quot;2024-W36&quot;
## [37] &quot;2024-W37&quot; &quot;2024-W38&quot; &quot;2024-W39&quot; &quot;2024-W40&quot; &quot;2024-W41&quot; &quot;2024-W42&quot;
## [43] &quot;2024-W43&quot; &quot;2024-W44&quot; &quot;2024-W45&quot; &quot;2024-W46&quot; &quot;2024-W47&quot; &quot;2024-W48&quot;
## [49] &quot;2024-W49&quot; &quot;2024-W50&quot; &quot;2024-W51&quot; &quot;2024-W52&quot;</code></pre>
<p>Note that you cannot use <code>%Y</code>, <code>%W</code>, and
<code>%U</code> specifiers with weeks. ISO week-numbering year may
differ from Gregorian (i.e. calendar) year <code>%Y</code>.
<code>%W</code> and <code>%U</code> formats refer to non-ISO weeks and
are not supported.</p>
<p><code>as.week</code> (a shortcut for
<code>as.tind(*, type = &quot;w&quot;)</code>) automatically recognizes this
format.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="fu">as.week</span>(<span class="st">&quot;2024-W51&quot;</span>)</span></code></pre></div>
<pre><code>## week [tind]
## [1] 2024-W51</code></pre>
</div>
<div id="dates" class="section level2">
<h2>Dates</h2>
<p>Dates (code <code>d</code>) can be most easily constructed from
<code>y</code>, <code>m</code>, and <code>d</code> components passed to
<code>tind</code> constructor. Order of arguments is irrelevant.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">m =</span> <span class="dv">3</span>, <span class="at">d =</span> <span class="dv">15</span>, <span class="at">y =</span> <span class="dv">2024</span>)</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-03-15</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a>(ds <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">each =</span> <span class="dv">2</span>), <span class="at">d =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">16</span>)))</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-01-01 2024-01-16 2024-02-01 2024-02-16 2024-03-01 2024-03-16</code></pre>
<p>The default format for dates is <code>%Y-%m-%d</code> (ISO format,
shortcut <code>%F</code>).</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="fu">format</span>(ds)</span></code></pre></div>
<pre><code>## [1] &quot;2024-01-01&quot; &quot;2024-01-16&quot; &quot;2024-02-01&quot; &quot;2024-02-16&quot; &quot;2024-03-01&quot;
## [6] &quot;2024-03-16&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="fu">format</span>(ds, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2024-01-01&quot; &quot;2024-01-16&quot; &quot;2024-02-01&quot; &quot;2024-02-16&quot; &quot;2024-03-01&quot;
## [6] &quot;2024-03-16&quot;</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="fu">format</span>(ds, <span class="at">format =</span> <span class="st">&quot;%F&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2024-01-01&quot; &quot;2024-01-16&quot; &quot;2024-02-01&quot; &quot;2024-02-16&quot; &quot;2024-03-01&quot;
## [6] &quot;2024-03-16&quot;</code></pre>
<p><code>as.date</code> (a shortcut for
<code>as.tind(*, type = &quot;d&quot;)</code>) automatically recognizes this
format.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="fu">as.date</span>(<span class="st">&quot;2024-12-31&quot;</span>)</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-12-31</code></pre>
<p>US format <code>%m/%d/%y</code> (shortcut <code>%D</code>) is also
automatically recognized.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="fu">as.date</span>(<span class="st">&quot;12/31/24&quot;</span>)</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-12-31</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">as.date</span>(<span class="st">&quot;12/31/24&quot;</span>), <span class="st">&quot;%m/%d/%y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;12/31/24&quot;</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">as.date</span>(<span class="st">&quot;12/31/24&quot;</span>), <span class="st">&quot;%D&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;12/31/24&quot;</code></pre>
<p>Month names can also be used. See documentation of
<code>month_names</code> for discussion of locale settings.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a>(chds <span class="ot">&lt;-</span> <span class="fu">format</span>(ds, <span class="st">&quot;%b %d, %y&quot;</span>, <span class="at">locale =</span> <span class="st">&quot;C&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Jan 01, 24&quot; &quot;Jan 16, 24&quot; &quot;Feb 01, 24&quot; &quot;Feb 16, 24&quot; &quot;Mar 01, 24&quot;
## [6] &quot;Mar 16, 24&quot;</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="fu">as.tind</span>(chds, <span class="at">order =</span> <span class="st">&quot;mdy&quot;</span>, <span class="at">locale =</span> <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-01-01 2024-01-16 2024-02-01 2024-02-16 2024-03-01 2024-03-16</code></pre>
</div>
<div id="time-of-day" class="section level2">
<h2>Time of Day</h2>
<p>Type <code>h</code> (as in <em>h</em>our) represents times between
midnight (00:00) and midnight of the next day (24:00).</p>
<p>Time of day can be constructed from <code>H</code>, <code>M</code>,
and <code>S</code> arguments passed to <code>tind</code>
constructor.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
##  [1] 00:00 01:00 02:00 03:00 04:00 05:00 06:00 07:00 08:00 09:00 10:00 11:00
## [13] 12:00 13:00 14:00 15:00 16:00 17:00 18:00 19:00 20:00 21:00 22:00 23:00</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">13</span>, <span class="at">M =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">15</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:00 13:15 13:30 13:45</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" tabindex="-1"></a>(tod1 <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">13</span>, <span class="at">M =</span> <span class="dv">30</span>, <span class="at">S =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">11</span>) <span class="sc">*</span> <span class="dv">5</span>))</span></code></pre></div>
<pre><code>## time of day [tind]
##  [1] 13:30:00 13:30:05 13:30:10 13:30:15 13:30:20 13:30:25 13:30:30 13:30:35
##  [9] 13:30:40 13:30:45 13:30:50 13:30:55</code></pre>
<p>Sub-second accuracy is also supported.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a>(tod2 <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">13</span>, <span class="at">M =</span> <span class="dv">30</span>, <span class="at">S =</span> <span class="dv">17</span> <span class="sc">+</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">/</span> <span class="dv">10</span>))</span></code></pre></div>
<pre><code>## time of day [tind]
##  [1] 13:30:17.0 13:30:17.1 13:30:17.2 13:30:17.3 13:30:17.4 13:30:17.5
##  [7] 13:30:17.6 13:30:17.7 13:30:17.8 13:30:17.9</code></pre>
<p>As seen above, <code>tind</code> automatically determines whether
seconds should be shown or sub-second accuracy is required.</p>
<p>Format specifiers <code>%H</code>, <code>%M</code>, and
<code>%S</code> can be used with time of day.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a><span class="fu">format</span>(tod1, <span class="st">&quot;%H:%M&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot;
## [10] &quot;13:30&quot; &quot;13:30&quot; &quot;13:30&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a><span class="fu">format</span>(tod1, <span class="st">&quot;%H:%M:%S&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30:00&quot; &quot;13:30:05&quot; &quot;13:30:10&quot; &quot;13:30:15&quot; &quot;13:30:20&quot; &quot;13:30:25&quot;
##  [7] &quot;13:30:30&quot; &quot;13:30:35&quot; &quot;13:30:40&quot; &quot;13:30:45&quot; &quot;13:30:50&quot; &quot;13:30:55&quot;</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%H:%M&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47:39&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%H:%M:%S&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47:39</code></pre>
<p>Sub-second accuracy can be explicitly requested via
<code>%OS[0-6]</code> format specifier.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="fu">format</span>(tod2, <span class="st">&quot;%H:%M:%S&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot;
##  [7] &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot; &quot;13:30:17&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="fu">format</span>(tod2, <span class="st">&quot;%H:%M:%OS1&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30:17.0&quot; &quot;13:30:17.1&quot; &quot;13:30:17.2&quot; &quot;13:30:17.3&quot; &quot;13:30:17.4&quot;
##  [6] &quot;13:30:17.5&quot; &quot;13:30:17.6&quot; &quot;13:30:17.7&quot; &quot;13:30:17.8&quot; &quot;13:30:17.9&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="fu">format</span>(tod2, <span class="st">&quot;%H:%M:%OS2&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30:17.00&quot; &quot;13:30:17.10&quot; &quot;13:30:17.20&quot; &quot;13:30:17.30&quot; &quot;13:30:17.40&quot;
##  [6] &quot;13:30:17.50&quot; &quot;13:30:17.60&quot; &quot;13:30:17.70&quot; &quot;13:30:17.80&quot; &quot;13:30:17.90&quot;</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="fu">format</span>(tod2, <span class="st">&quot;%H:%M:%OS3&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13:30:17.000&quot; &quot;13:30:17.100&quot; &quot;13:30:17.200&quot; &quot;13:30:17.300&quot; &quot;13:30:17.400&quot;
##  [6] &quot;13:30:17.500&quot; &quot;13:30:17.600&quot; &quot;13:30:17.700&quot; &quot;13:30:17.800&quot; &quot;13:30:17.900&quot;</code></pre>
<p>For parsing, <code>%OS</code> (without digits) should be used.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47:39.89&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%H:%M:%OS&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47:39.89</code></pre>
<p><code>H</code>, <code>M</code>, and <code>S</code> can be used for
order specification. With order specifier <code>S</code> sub-second
accuracy is automatically determined.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13&quot;</span>, <span class="at">order =</span> <span class="st">&quot;H&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:00</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47&quot;</span>, <span class="at">order =</span> <span class="st">&quot;HM&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47:39&quot;</span>, <span class="at">order =</span> <span class="st">&quot;HMS&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47:39</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47:39.9&quot;</span>, <span class="at">order =</span> <span class="st">&quot;HMS&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47:39.9</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;13:47:39.89&quot;</span>, <span class="at">order =</span> <span class="st">&quot;HMS&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 13:47:39.89</code></pre>
<p>12-hour clock can be used with the help of <code>%I</code> (hour in
12-hour clock) and <code>%p</code> (ante meridiem, post meridiem)
specifiers.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>), <span class="st">&quot;%I %p&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;12 am&quot; &quot;01 am&quot; &quot;02 am&quot; &quot;03 am&quot; &quot;04 am&quot; &quot;05 am&quot; &quot;06 am&quot; &quot;07 am&quot; &quot;08 am&quot;
## [10] &quot;09 am&quot; &quot;10 am&quot; &quot;11 am&quot; &quot;12 pm&quot; &quot;01 pm&quot; &quot;02 pm&quot; &quot;03 pm&quot; &quot;04 pm&quot; &quot;05 pm&quot;
## [19] &quot;06 pm&quot; &quot;07 pm&quot; &quot;08 pm&quot; &quot;09 pm&quot; &quot;10 pm&quot; &quot;11 pm&quot;</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;9:30am&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%I:%M%p&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 09:30</code></pre>
<p>Alternatively, <code>I</code> and <code>p</code> order specifiers can
be used.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;9:30am&quot;</span>, <span class="at">order =</span> <span class="st">&quot;IMp&quot;</span>)</span></code></pre></div>
<pre><code>## time of day [tind]
## [1] 09:30</code></pre>
</div>
<div id="date-time" class="section level2">
<h2>Date-time</h2>
<p>Date-time indices (code <code>t</code>) can be constructed from
components required for date and at least hour (<code>H</code>)
component.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>, <span class="at">H =</span> <span class="dv">16</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2024-08-02 16:00 CEST</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>, <span class="at">H =</span> <span class="dv">16</span>, <span class="at">M =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">15</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2024-08-02 16:00 CEST  2024-08-02 16:15 CEST  2024-08-02 16:30 CEST
## [4]  2024-08-02 16:45 CEST</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>, <span class="at">H =</span> <span class="dv">16</span>, <span class="at">M =</span> <span class="dv">0</span>, <span class="at">S =</span> <span class="dv">10</span> <span class="sc">*</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>))</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2024-08-02 16:00:00 CEST  2024-08-02 16:00:10 CEST
## [3]  2024-08-02 16:00:20 CEST  2024-08-02 16:00:30 CEST
## [5]  2024-08-02 16:00:40 CEST  2024-08-02 16:00:50 CEST</code></pre>
<p>All date-time indices always have time zone attribute set. For more
information, see documentation of <code>tzone</code> function. By
default, time zone is set to system time zone but can be explicitly set
using <code>tz</code> argument.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" tabindex="-1"></a><span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>, <span class="at">H =</span> <span class="dv">16</span>, <span class="at">M =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">15</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
## [1]  2024-08-02 16:00 UTC  2024-08-02 16:15 UTC  2024-08-02 16:30 UTC
## [4]  2024-08-02 16:45 UTC</code></pre>
<p>Date-time indices can also be constructed from date and time of day
indices using <code>date_time</code> function.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" tabindex="-1"></a>(dt1 <span class="ot">&lt;-</span> <span class="fu">date_time</span>(<span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>),</span>
<span id="cb140-2"><a href="#cb140-2" tabindex="-1"></a>                  <span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">16</span>, <span class="at">M =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">15</span>)))</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2024-08-02 16:00 CEST  2024-08-02 16:15 CEST  2024-08-02 16:30 CEST
## [4]  2024-08-02 16:45 CEST</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" tabindex="-1"></a>(dt2 <span class="ot">&lt;-</span> <span class="fu">date_time</span>(<span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2024</span>, <span class="at">m =</span> <span class="dv">8</span>, <span class="at">d =</span> <span class="dv">2</span>),</span>
<span id="cb142-2"><a href="#cb142-2" tabindex="-1"></a>                  <span class="fu">tind</span>(<span class="at">H =</span> <span class="dv">16</span>, <span class="at">M =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">15</span>), <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>))</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
## [1]  2024-08-02 16:00 UTC  2024-08-02 16:15 UTC  2024-08-02 16:30 UTC
## [4]  2024-08-02 16:45 UTC</code></pre>
<p>Reverse operation can be performed using <code>date_time_split</code>
function.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" tabindex="-1"></a><span class="fu">date_time_split</span>(dt1)</span></code></pre></div>
<pre><code>## $date
## date [tind]
## [1] 2024-08-02 2024-08-02 2024-08-02 2024-08-02
## 
## $time
## time of day [tind]
## [1] 16:00 16:15 16:30 16:45</code></pre>
<p>As lists can be trivially converted to data frames, if a data frame
is desired, <code>date_time_split</code> only has to be wrapped by
<code>as.data.frame</code>.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" tabindex="-1"></a><span class="fu">as.data.frame</span>(<span class="fu">date_time_split</span>(dt1))</span></code></pre></div>
<pre><code>##         date  time
## 1 2024-08-02 16:00
## 2 2024-08-02 16:15
## 3 2024-08-02 16:30
## 4 2024-08-02 16:45</code></pre>
<p>As seen, formatting of date-time indices depends on actual indices
(need for seconds or for subsecond accuracy). Moreover,
<code>as.character</code> and <code>format</code> methods differ. The
former returns UTC offset (or <code>Z</code> for UTC), the latter time
zone abbreviation.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" tabindex="-1"></a><span class="fu">as.character</span>(dt1)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00+0200&quot; &quot;2024-08-02 16:15+0200&quot; &quot;2024-08-02 16:30+0200&quot;
## [4] &quot;2024-08-02 16:45+0200&quot;</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" tabindex="-1"></a><span class="fu">as.character</span>(dt2)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00Z&quot; &quot;2024-08-02 16:15Z&quot; &quot;2024-08-02 16:30Z&quot;
## [4] &quot;2024-08-02 16:45Z&quot;</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" tabindex="-1"></a><span class="fu">format</span>(dt1)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00 CEST&quot; &quot;2024-08-02 16:15 CEST&quot; &quot;2024-08-02 16:30 CEST&quot;
## [4] &quot;2024-08-02 16:45 CEST&quot;</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" tabindex="-1"></a><span class="fu">format</span>(dt2)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00 UTC&quot; &quot;2024-08-02 16:15 UTC&quot; &quot;2024-08-02 16:30 UTC&quot;
## [4] &quot;2024-08-02 16:45 UTC&quot;</code></pre>
<p>All format specifiers that can be used with dates and time of day can
also be used with date-time. <code>%z</code> specifier represents UTC
offset, <code>%Z</code> returns time zone abbreviation.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" tabindex="-1"></a><span class="fu">format</span>(dt1, <span class="st">&quot;%F %H:%M&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00&quot; &quot;2024-08-02 16:15&quot; &quot;2024-08-02 16:30&quot; &quot;2024-08-02 16:45&quot;</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" tabindex="-1"></a><span class="fu">format</span>(dt1, <span class="st">&quot;%F %H:%M%z&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00+0200&quot; &quot;2024-08-02 16:15+0200&quot; &quot;2024-08-02 16:30+0200&quot;
## [4] &quot;2024-08-02 16:45+0200&quot;</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" tabindex="-1"></a><span class="fu">format</span>(dt1, <span class="st">&quot;%F %H:%M %Z&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00 CEST&quot; &quot;2024-08-02 16:15 CEST&quot; &quot;2024-08-02 16:30 CEST&quot;
## [4] &quot;2024-08-02 16:45 CEST&quot;</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" tabindex="-1"></a><span class="fu">format</span>(dt1, <span class="st">&quot;%D %I:%M%p&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;08/02/24 04:00pm&quot; &quot;08/02/24 04:15pm&quot; &quot;08/02/24 04:30pm&quot; &quot;08/02/24 04:45pm&quot;</code></pre>
<p>Standard formats are automatically recognized during parsing.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03 CET</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03:34&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34 CET</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03:34.534&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34.534 CET</code></pre>
<p>When converting to <code>tind</code>, either <code>format</code> or
<code>order</code> arguments can be provided.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03:34.534&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%F %H:%M:%OS&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34.534 CET</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;02/01/25 01:03:34pm&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%D %I:%M:%OS%p&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34 CET</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03:34.534&quot;</span>, <span class="at">order =</span> <span class="st">&quot;ymdHMS&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34.534 CET</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-01 13:03:34.534&quot;</span>, <span class="at">order =</span> <span class="st">&quot;ymdHMS&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
## [1]  2025-02-01 13:03:34.534 UTC</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;02/01/25 01:03:34pm&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMSp&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-01 13:03:34 CET</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;02/01/25 01:03:34pm&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMSp&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
## [1]  2025-02-01 13:03:34 UTC</code></pre>
<p>The parser recognizes time zone abbreviations:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-22 09:54:04 CET&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-22 09:54:04 CET</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-08-23 09:54:04 CEST&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-08-23 09:54:04 CEST</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2/22/25 9:54 a.m. EST&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMpz&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;America/New_York&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: America/New_York [tind]
## [1]  2025-02-22 09:54 EST</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;8/23/25 9:54 a.m. EDT&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMpz&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;America/New_York&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: America/New_York [tind]
## [1]  2025-08-23 09:54 EDT</code></pre>
<p>When time zone is not provided, the parser tries to guess the time
zone:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-02-22 09:54:04 CET&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-02-22 09:54:04 CET</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2025-08-23 09:54:04 CEST&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-08-23 09:54:04 CEST</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;2/22/25 9:54 a.m. EST&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMpz&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: America/New_York [tind]
## [1]  2025-02-22 09:54 EST</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="st">&quot;8/23/25 9:54 a.m. EDT&quot;</span>, <span class="at">order =</span> <span class="st">&quot;mdyIMpz&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: America/New_York [tind]
## [1]  2025-08-23 09:54 EDT</code></pre>
<p>When time zone abbreviation can denote different UTC offsets
(unfortunately, this can be the case) <code>NA</code>s are introduced
with a warning.</p>
</div>
<div id="arbitrary-numeric-indices" class="section level2">
<h2>Arbitrary Numeric Indices</h2>
<p>For completeness, <code>tind</code> supports arbitrary integer
indices (code <code>i</code>) and arbitrary numeric indices (code
<code>n</code>).</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">type =</span> <span class="st">&quot;i&quot;</span>)</span></code></pre></div>
<pre><code>## integer index [tind]
##  [1] 0 1 2 3 4 5 6 7 8 9</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" tabindex="-1"></a><span class="fu">as.tind</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">9</span> <span class="sc">/</span> <span class="dv">10</span>, <span class="at">type =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<pre><code>## numeric index [tind]
##  [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9</code></pre>
</div>
<div id="index-conversion" class="section level2">
<h2>Index Conversion</h2>
<p>Time index conversion is extremely easy with <code>tind</code> class.
<code>as.tind</code> method as well as <code>as.year</code>,
<code>as.date</code>, etc. convenience functions can be used for
this.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" tabindex="-1"></a>ms</span></code></pre></div>
<pre><code>## month [tind]
##  [1] 2023-01 2023-02 2023-03 2023-04 2023-05 2023-06 2023-07 2023-08 2023-09
## [10] 2023-10 2023-11 2023-12</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" tabindex="-1"></a><span class="fu">as.quarter</span>(ms)</span></code></pre></div>
<pre><code>## quarter [tind]
##  [1] 2023Q1 2023Q1 2023Q1 2023Q2 2023Q2 2023Q2 2023Q3 2023Q3 2023Q3 2023Q4
## [11] 2023Q4 2023Q4</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" tabindex="-1"></a><span class="fu">as.year</span>(ms)</span></code></pre></div>
<pre><code>## year [tind]
##  [1] 2023 2023 2023 2023 2023 2023 2023 2023 2023 2023 2023 2023</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" tabindex="-1"></a><span class="fu">as.date</span>(ms)</span></code></pre></div>
<pre><code>## date [tind]
##  [1] 2023-01-01 2023-02-01 2023-03-01 2023-04-01 2023-05-01 2023-06-01
##  [7] 2023-07-01 2023-08-01 2023-09-01 2023-10-01 2023-11-01 2023-12-01</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" tabindex="-1"></a><span class="fu">as.date_time</span>(ms)</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
##  [1]  2023-01-01 00:00 CET   2023-02-01 00:00 CET   2023-03-01 00:00 CET 
##  [4]  2023-04-01 00:00 CEST  2023-05-01 00:00 CEST  2023-06-01 00:00 CEST
##  [7]  2023-07-01 00:00 CEST  2023-08-01 00:00 CEST  2023-09-01 00:00 CEST
## [10]  2023-10-01 00:00 CEST  2023-11-01 00:00 CET   2023-12-01 00:00 CET</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" tabindex="-1"></a><span class="fu">as.date_time</span>(ms, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
##  [1]  2023-01-01 00:00 UTC  2023-02-01 00:00 UTC  2023-03-01 00:00 UTC
##  [4]  2023-04-01 00:00 UTC  2023-05-01 00:00 UTC  2023-06-01 00:00 UTC
##  [7]  2023-07-01 00:00 UTC  2023-08-01 00:00 UTC  2023-09-01 00:00 UTC
## [10]  2023-10-01 00:00 UTC  2023-11-01 00:00 UTC  2023-12-01 00:00 UTC</code></pre>
</div>
<div id="coercion-to-base-r-types" class="section level2">
<h2>Coercion to Base R Types</h2>
<p><code>as.Date</code>, <code>as.POSIXct</code>, and
<code>as.POSIXlt</code> can be used to convert time indices to base R
date and date-time classes.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" tabindex="-1"></a>ds</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2024-01-01 2024-01-16 2024-02-01 2024-02-16 2024-03-01 2024-03-16</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" tabindex="-1"></a><span class="fu">as.Date</span>(ds)</span></code></pre></div>
<pre><code>## [1] &quot;2024-01-01&quot; &quot;2024-01-16&quot; &quot;2024-02-01&quot; &quot;2024-02-16&quot; &quot;2024-03-01&quot;
## [6] &quot;2024-03-16&quot;</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" tabindex="-1"></a>dt1</span></code></pre></div>
<pre><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2024-08-02 16:00 CEST  2024-08-02 16:15 CEST  2024-08-02 16:30 CEST
## [4]  2024-08-02 16:45 CEST</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" tabindex="-1"></a><span class="fu">as.POSIXct</span>(dt1)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00:00 CEST&quot; &quot;2024-08-02 16:15:00 CEST&quot;
## [3] &quot;2024-08-02 16:30:00 CEST&quot; &quot;2024-08-02 16:45:00 CEST&quot;</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" tabindex="-1"></a>dt2</span></code></pre></div>
<pre><code>## date-time, time zone: UTC [tind]
## [1]  2024-08-02 16:00 UTC  2024-08-02 16:15 UTC  2024-08-02 16:30 UTC
## [4]  2024-08-02 16:45 UTC</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" tabindex="-1"></a><span class="fu">as.POSIXlt</span>(dt2)</span></code></pre></div>
<pre><code>## [1] &quot;2024-08-02 16:00:00 UTC&quot; &quot;2024-08-02 16:15:00 UTC&quot;
## [3] &quot;2024-08-02 16:30:00 UTC&quot; &quot;2024-08-02 16:45:00 UTC&quot;</code></pre>
</div>
<div id="matching-periods-comparisons-cut-method" class="section level2">
<h2>Matching Periods, Comparisons, <code>cut</code> Method</h2>
<p><code>match_t</code> function and <code>%in_t%</code> operator allow
to match time indices to another set of time indices, possibly of
different type (lower resolution).</p>
<p>In the following example, a sequence of dates is matched to
months:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">as.date</span>(<span class="st">&quot;2025-03-02&quot;</span>) <span class="sc">+</span> <span class="dv">15</span> <span class="sc">*</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>))</span></code></pre></div>
<pre><code>## date [tind]
## [1] 2025-03-02 2025-03-17 2025-04-01 2025-04-16 2025-05-01 2025-05-16</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" tabindex="-1"></a>(table <span class="ot">&lt;-</span> <span class="fu">as.month</span>(<span class="st">&quot;2025-03&quot;</span>) <span class="sc">+</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## month [tind]
## [1] 2025-02 2025-03 2025-04</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" tabindex="-1"></a><span class="fu">match_t</span>(x, table)</span></code></pre></div>
<pre><code>## [1]  2  2  3  3 NA NA</code></pre>
<p>Below we check which dates fall in March 2025:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" tabindex="-1"></a>x <span class="sc">%in_t%</span> <span class="st">&quot;2025-03&quot;</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<p>Comparison operators (e.g., <code>&gt;</code>, <code>&gt;=</code>)
can be used to compare time indices. Below we check which dates fall in
or after April 2025 and before April 2025:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" tabindex="-1"></a>x <span class="sc">&gt;=</span> <span class="st">&quot;2025-04&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="st">&quot;2025-04&quot;</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<p><code>cut</code> method for object of <code>tind</code> class divides
time indices into periods. Using <code>x</code> from the last example,
we can split dates into months and quarters:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" tabindex="-1"></a><span class="fu">cut</span>(x, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 2025-03 2025-03 2025-04 2025-04 2025-05 2025-05
## Levels: 2025-03 &lt; 2025-04 &lt; 2025-05</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" tabindex="-1"></a><span class="fu">cut</span>(x, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 2025Q1 2025Q1 2025Q2 2025Q2 2025Q2 2025Q2
## Levels: 2025Q1 &lt; 2025Q2</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
