<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Grzegorz Klima" />


<title>Calendrical Computations Using tind Package</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Calendrical Computations Using
<code>tind</code> Package</h1>
<h4 class="author">Grzegorz Klima</h4>



<p><code>tind</code> package provides an extensive set of functions for
calendrical computations. These include: extraction of time index
components, determination of properties of time periods (leap years,
number of subperiods within a period), computation of dates of moveable
observances, and calendar arithmetic. For applications in business and
finance, computations involving business days (using different rolling
conventions) and computation of accrual factors are provided.</p>
<p>Before proceeding, let us load the package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tind&quot;</span>)</span></code></pre></div>
<div id="current-date-and-time" class="section level2">
<h2>Current Date and Time</h2>
<p>Current date and time can be checked using functions
<code>today()</code> and <code>now()</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">today</span>()</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">now</span>()</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:59 CEST
</code></pre>
<p>By default, the system time zone (as returned by
<code>Sys.timezone()</code>) is used. However, we can check the current
time in other time zones. Let us do it for Tokyo, Warsaw, London, and
New York.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&quot;Asia/Tokyo&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Asia/Tokyo [tind]
## [1]  2025-10-25 18:15:59 JST
</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">today</span>(<span class="st">&quot;Asia/Tokyo&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">today</span>(<span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&quot;Europe/London&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/London [tind]
## [1]  2025-10-25 10:15:59 BST
</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">today</span>(<span class="st">&quot;Europe/London&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&quot;America/New_York&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: America/New_York [tind]
## [1]  2025-10-25 05:15:59 EDT
</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">today</span>(<span class="st">&quot;America/New_York&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
</div>
<div id="time-index-components-year-month-day" class="section level2">
<h2>Time Index Components (Year, Month, Day, …)</h2>
<p><code>tind</code> package provides a collection of intuitively-named
functions for extracting time index components, see examples below.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>(nw <span class="ot">&lt;-</span> <span class="fu">now</span>())</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">year</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 2025
</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">quarter</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 4
</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">month</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 10
</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">month</span>(nw, <span class="at">labels =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] Oct
## 12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec
</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">month</span>(nw, <span class="at">labels =</span> <span class="cn">TRUE</span>, <span class="at">abbreviate =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] October
## 12 Levels: January &lt; February &lt; March &lt; April &lt; May &lt; June &lt; ... &lt; December
</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">week</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 43
</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">day</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 25
</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">day_of_week</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 6
</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">day_of_week</span>(nw, <span class="at">labels =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] Sat
## Levels: Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat &lt; Sun
</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">day_of_week</span>(nw, <span class="at">labels =</span> <span class="cn">TRUE</span>, <span class="at">abbreviate =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] Saturday
## 7 Levels: Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; Friday &lt; ... &lt; Sunday
</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">day_of_year</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 298
</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">hour</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 11
</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">am</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] TRUE
</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">pm</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] FALSE
</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">minute</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 15
</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">second</span>(nw)</span></code></pre></div>
<pre class="r-output"><code>## [1] 59
</code></pre>
</div>
<div id="properties-of-time-indices" class="section level2">
<h2>Properties of Time Indices</h2>
<p>The inherent irregularity of our calendar is well known. Years are
divided into leap and non-leap ones, months have different numbers of
days (and so do quarters and years), years have varying number of weeks
(52 or 53 in ISO 8601). In many time zones Daylight Saving Time is used,
which then leads to some days having more or less than 24 hours. The
functions shown below allow to easily check properties of time indices
at hand.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>(tm <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2023</span><span class="sc">:</span><span class="dv">2024</span>, <span class="at">m =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">2</span>), <span class="at">d =</span> <span class="dv">29</span>, <span class="at">H =</span> <span class="dv">1</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Warsaw&quot;</span>))</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2023-10-29 01:00 CEST  2024-02-29 01:00 CET
</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">is.leap_year</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] FALSE  TRUE
</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">days_in_year</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] 365 366
</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">weeks_in_year</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] 52 52
</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">days_in_quarter</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] 92 91
</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="fu">days_in_month</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] 31 29
</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">hours_in_day</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1] 25 24
</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="fu">is.dst</span>(tm)</span></code></pre></div>
<pre class="r-output"><code>## [1]  TRUE FALSE
</code></pre>
</div>
<div id="calendar-arithmetic" class="section level2">
<h2>Calendar Arithmetic</h2>
<p>Time indices can be shifted using <code>+</code> and <code>-</code>
operators and <code>-</code> can be used to compute time differences
(returning objects of auxiliary <code>tdiff</code> class).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">today</span>())</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">3</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25 2025-10-26 2025-10-27 2025-10-28
</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">3</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25 2025-10-24 2025-10-23 2025-10-22
</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">0</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-22 2025-10-23 2025-10-24 2025-10-25
</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="fu">as.date</span>(<span class="st">&quot;2000-01-01&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## time difference, unit: day [tdiff]
## [1]  9429d (~25.8y)
</code></pre>
<p>Operators <code>%+y%</code>, <code>%-y%</code>, <code>%+m%</code>,
<code>%-m%</code>, <code>%+d%</code>, <code>%-d%</code>, etc. can be
used to shift time indices by multiples of a given time unit. An
alternative is to use time differences constructed by
<code>as.tdiff</code> method or convenience functions
<code>years</code>, <code>qrtrs</code>, <code>mnths</code>,
<code>weeks</code>, <code>days</code>, <code>hours</code>,
<code>mins</code>, and <code>secs</code>. (The naming was chosen in
order to avoid conflicts with base functions <code>months</code> and
<code>quarters</code>).</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">today</span>())</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>x <span class="sc">%+y%</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2024-10-25 2025-10-25 2026-10-25
</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>x <span class="sc">+</span> <span class="fu">years</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2024-10-25 2025-10-25 2026-10-25
</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>x <span class="sc">%+m%</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-09-25 2025-10-25 2025-11-25
</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>x <span class="sc">+</span> <span class="fu">mnths</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-09-25 2025-10-25 2025-11-25
</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>x <span class="sc">%+d%</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">1</span> <span class="co"># same as x + -1:1</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-24 2025-10-25 2025-10-26
</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">now</span>())</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>x <span class="sc">%-h%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">0</span></span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 08:15:59 CEST  2025-10-25 09:15:59 CEST
## [3]  2025-10-25 10:15:59 CEST  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="fu">hours</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">0</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 08:15:59 CEST  2025-10-25 09:15:59 CEST
## [3]  2025-10-25 10:15:59 CEST  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a>x <span class="sc">%-min%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">0</span></span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:12:59 CEST  2025-10-25 11:13:59 CEST
## [3]  2025-10-25 11:14:59 CEST  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="fu">mins</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">0</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:12:59 CEST  2025-10-25 11:13:59 CEST
## [3]  2025-10-25 11:14:59 CEST  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>x <span class="sc">%-s%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">0</span> <span class="co"># same as x - 3:0</span></span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:56 CEST  2025-10-25 11:15:57 CEST
## [3]  2025-10-25 11:15:58 CEST  2025-10-25 11:15:59 CEST
</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>x <span class="sc">-</span> <span class="fu">secs</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">0</span>) <span class="co"># same as x - 3:0</span></span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-10-25 11:15:56 CEST  2025-10-25 11:15:57 CEST
## [3]  2025-10-25 11:15:58 CEST  2025-10-25 11:15:59 CEST
</code></pre>
</div>
<div id="sequences-of-time-indices" class="section level2">
<h2>Sequences of Time Indices</h2>
<p><code>seq</code> method for <code>tind</code> allows to easily
construct series of time indices. The following code creates a sequence
of months with a step of two months from November 2023 till April
2025:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="fu">as.month</span>(<span class="st">&quot;2023-11&quot;</span>), <span class="fu">as.month</span>(<span class="st">&quot;2025-04&quot;</span>), <span class="at">by =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre class="r-output"><code>## month [tind]
## [1] 2023-11 2024-01 2024-03 2024-05 2024-07 2024-09 2024-11 2025-01 2025-03
</code></pre>
<p>Consider the following problem: for a given month we need to
construct a sequence of dates in that month. Note that the last day in a
month is the day before the first day in the following month. The
following piece of code does the job:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>(m <span class="ot">&lt;-</span> <span class="fu">as.month</span>(<span class="st">&quot;2025-03&quot;</span>))</span></code></pre></div>
<pre class="r-output"><code>## month [tind]
## [1] 2025-03
</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="fu">as.date</span>(m), <span class="fu">as.date</span>(m <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">-</span> <span class="dv">1</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
##  [1] 2025-03-01 2025-03-02 2025-03-03 2025-03-04 2025-03-05 2025-03-06
##  [7] 2025-03-07 2025-03-08 2025-03-09 2025-03-10 2025-03-11 2025-03-12
## [13] 2025-03-13 2025-03-14 2025-03-15 2025-03-16 2025-03-17 2025-03-18
## [19] 2025-03-19 2025-03-20 2025-03-21 2025-03-22 2025-03-23 2025-03-24
## [25] 2025-03-25 2025-03-26 2025-03-27 2025-03-28 2025-03-29 2025-03-30
## [31] 2025-03-31
</code></pre>
<p><code>seq</code> method for <code>tind</code> also accepts different
types of time indices and automatically converts them. The two lines
below create sequences from the beginning of current quarter till today
and from today till the end of the quarter:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>(td <span class="ot">&lt;-</span> <span class="fu">today</span>())</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="fu">as.quarter</span>(td), td)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
##  [1] 2025-10-01 2025-10-02 2025-10-03 2025-10-04 2025-10-05 2025-10-06
##  [7] 2025-10-07 2025-10-08 2025-10-09 2025-10-10 2025-10-11 2025-10-12
## [13] 2025-10-13 2025-10-14 2025-10-15 2025-10-16 2025-10-17 2025-10-18
## [19] 2025-10-19 2025-10-20 2025-10-21 2025-10-22 2025-10-23 2025-10-24
## [25] 2025-10-25
</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="fu">seq</span>(td, <span class="fu">as.quarter</span>(td))</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
##  [1] 2025-10-25 2025-10-26 2025-10-27 2025-10-28 2025-10-29 2025-10-30
##  [7] 2025-10-31 2025-11-01 2025-11-02 2025-11-03 2025-11-04 2025-11-05
## [13] 2025-11-06 2025-11-07 2025-11-08 2025-11-09 2025-11-10 2025-11-11
## [19] 2025-11-12 2025-11-13 2025-11-14 2025-11-15 2025-11-16 2025-11-17
## [25] 2025-11-18 2025-11-19 2025-11-20 2025-11-21 2025-11-22 2025-11-23
## [31] 2025-11-24 2025-11-25 2025-11-26 2025-11-27 2025-11-28 2025-11-29
## [37] 2025-11-30 2025-12-01 2025-12-02 2025-12-03 2025-12-04 2025-12-05
## [43] 2025-12-06 2025-12-07 2025-12-08 2025-12-09 2025-12-10 2025-12-11
## [49] 2025-12-12 2025-12-13 2025-12-14 2025-12-15 2025-12-16 2025-12-17
## [55] 2025-12-18 2025-12-19 2025-12-20 2025-12-21 2025-12-22 2025-12-23
## [61] 2025-12-24 2025-12-25 2025-12-26 2025-12-27 2025-12-28 2025-12-29
## [67] 2025-12-30 2025-12-31
</code></pre>
</div>
<div id="rounding-time-indices" class="section level2">
<h2>Rounding Time Indices</h2>
<p><code>floor_t</code> and <code>ceiling_t</code> round time indices
down or up given time unit or multiple of a unit. <code>round_t</code>
returns the result of one of these two functions, whichever is
closer.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2025</span>, <span class="at">m =</span> <span class="dv">3</span>, <span class="at">d =</span> <span class="dv">30</span>))</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-30
</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="fu">floor_t</span>(x, <span class="st">&quot;w&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-24
</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="fu">ceiling_t</span>(x, <span class="st">&quot;w&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-31
</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">round_t</span>(x, <span class="st">&quot;w&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-31
</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="fu">floor_t</span>(x, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-01
</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="fu">ceiling_t</span>(x, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-04-01
</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="fu">round_t</span>(x, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-04-01
</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="fu">floor_t</span>(x, <span class="st">&quot;2m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-01
</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="fu">ceiling_t</span>(x, <span class="st">&quot;2m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-05-01
</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="fu">round_t</span>(x, <span class="st">&quot;2m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-01
</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a><span class="fu">floor_t</span>(x, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-01-01
</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="fu">ceiling_t</span>(x, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-04-01
</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a><span class="fu">round_t</span>(x, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-04-01
</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="fu">floor_t</span>(x, <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-01-01
</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="fu">ceiling_t</span>(x, <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2026-01-01
</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="fu">round_t</span>(x, <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-01-01
</code></pre>
<p><code>trunc_t</code> truncates time indices changing type when
possible.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">date_time</span>(x, <span class="at">H =</span> <span class="st">&quot;13:13:13.13&quot;</span>))</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-03-30 13:13:13.13 CEST
</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;s&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-03-30 13:13:13 CEST
</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;min&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-03-30 13:13 CEST
</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;h&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date-time, time zone: Europe/Warsaw [tind]
## [1]  2025-03-30 13:00 CEST
</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;d&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-03-30
</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;w&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## week [tind]
## [1] 2025-W13
</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;m&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## month [tind]
## [1] 2025-03
</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;q&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## quarter [tind]
## [1] 2025Q1
</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a><span class="fu">trunc_t</span>(x, <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## year [tind]
## [1] 2025
</code></pre>
</div>
<div id="determining-dates-of-movable-observances-calendar-events" class="section level2">
<h2>Determining Dates of Movable Observances / Calendar Events</h2>
<p>It is common to define dates of movable holidays or observances as
the first, second, third, fourth, or last occurrence of a particular day
of week in a given month. In order to determine dates of such
observances two functions can be used: <code>nth_dw_in_month()</code>
and <code>last_dw_in_month()</code>. Days of week are numbered 1–7 with
1 denoting Monday and 7 Sunday (as in ISO 8601).</p>
<p>Thanksgiving in the US is observed on the fourth Thursday of
November, which in 2019 was on:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="fu">nth_dw_in_month</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">201911</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2019-11-28
</code></pre>
<p>Black Friday is the day after Thanksgiving:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a><span class="fu">nth_dw_in_month</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">201911</span>) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2019-11-29
</code></pre>
<p>Daylight Saving Time in the EU begins (at least for now) on the last
Sunday in March and ends on the last Sunday of October. In 2019 the two
dates were:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="fu">last_dw_in_month</span>(<span class="dv">7</span>, <span class="dv">201903</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2019-03-31
</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" tabindex="-1"></a><span class="fu">last_dw_in_month</span>(<span class="dv">7</span>, <span class="dv">201910</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2019-10-27
</code></pre>
<p>During change to DST, the day is one hour shorter and during change
back one hour longer:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a><span class="fu">hours_in_day</span>(<span class="fu">last_dw_in_month</span>(<span class="dv">7</span>, <span class="dv">201903</span>), <span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 23
</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a><span class="fu">hours_in_day</span>(<span class="fu">last_dw_in_month</span>(<span class="dv">7</span>, <span class="dv">201910</span>), <span class="st">&quot;Europe/Warsaw&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 25
</code></pre>
<p>In the Christian world, Easter is a very important feast and other
many observances are set relative to it. Easter date in a given year can
be determined using <code>easter()</code> function.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a><span class="fu">easter</span>(<span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2020-04-12 2021-04-04 2022-04-17 2023-04-09 2024-03-31 2025-04-20
</code></pre>
</div>
<div id="creating-and-working-with-custom-calendars" class="section level2">
<h2>Creating and Working with Custom Calendars</h2>
<p>The functions shown above can be used to create custom calendar
functions, which can later be used for pretty printing calendars or
calculations involving business days.</p>
<p>It is expected that a calendar function:</p>
<ul>
<li>takes vector of dates</li>
<li>returns one of the three:
<ul>
<li>a logical vector of the same length as argument indicating business
days,</li>
<li>a list of two logical vectors of the same length as argument
indicating business days and holidays,</li>
<li>a list of three logical vectors of the same length as argument
indicating business days, holidays, and other observances.</li>
</ul></li>
</ul>
<p>If a calendar function returns a list and second or third logical
vector is named, the names are used by function <code>calendar()</code>
when pretty printing calendar.</p>
<p>Two examples of calendar functions are provided below and can be used
as templates for creating calendar functions for any country, area, or
specific applications like trading days or shopping days.</p>
<div id="an-example---business-days-and-federal-holidays-in-the-us" class="section level3">
<h3>An Example - Business Days and (Federal) Holidays in the US</h3>
<p>Public holidays in the US have either fixed dates or are on nth or
last day of week in a month.</p>
<p>The calendar function below returns a two-element list (business days
and holidays). A programming trick (marked in the code) is used to name
holidays.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a>calendar_US <span class="ot">&lt;-</span> <span class="cf">function</span>(dd)</span>
<span id="cb93-2"><a href="#cb93-2" tabindex="-1"></a>{</span>
<span id="cb93-3"><a href="#cb93-3" tabindex="-1"></a>    dd <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(dd)</span>
<span id="cb93-4"><a href="#cb93-4" tabindex="-1"></a>    y <span class="ot">&lt;-</span> <span class="fu">year</span>(dd)</span>
<span id="cb93-5"><a href="#cb93-5" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">month</span>(dd)</span>
<span id="cb93-6"><a href="#cb93-6" tabindex="-1"></a>    d <span class="ot">&lt;-</span> <span class="fu">day</span>(dd)</span>
<span id="cb93-7"><a href="#cb93-7" tabindex="-1"></a>    newyear <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb93-8"><a href="#cb93-8" tabindex="-1"></a>    martinlking <span class="ot">&lt;-</span> (y <span class="sc">&gt;=</span> <span class="dv">2000</span>) <span class="sc">&amp;</span> (m <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">3</span>, <span class="dv">1</span>, dd))</span>
<span id="cb93-9"><a href="#cb93-9" tabindex="-1"></a>    presidentsday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">3</span>, <span class="dv">1</span>, dd))</span>
<span id="cb93-10"><a href="#cb93-10" tabindex="-1"></a>    memorialday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">last_dw_in_month</span>(<span class="dv">1</span>, dd))</span>
<span id="cb93-11"><a href="#cb93-11" tabindex="-1"></a>    juneteenth <span class="ot">&lt;-</span> (y <span class="sc">&gt;=</span> <span class="dv">2021</span>) <span class="sc">&amp;</span> (m <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">19</span>)</span>
<span id="cb93-12"><a href="#cb93-12" tabindex="-1"></a>    independence <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb93-13"><a href="#cb93-13" tabindex="-1"></a>    labor <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">9</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">1</span>, <span class="dv">1</span>, dd))</span>
<span id="cb93-14"><a href="#cb93-14" tabindex="-1"></a>    columbus <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">10</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">2</span>, <span class="dv">1</span>, dd))</span>
<span id="cb93-15"><a href="#cb93-15" tabindex="-1"></a>    veterans <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">11</span>)</span>
<span id="cb93-16"><a href="#cb93-16" tabindex="-1"></a>    thanksgiving <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span>) <span class="sc">&amp;</span> (dd <span class="sc">==</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">4</span>, <span class="dv">4</span>, dd))</span>
<span id="cb93-17"><a href="#cb93-17" tabindex="-1"></a>    christmas <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">25</span>)</span>
<span id="cb93-18"><a href="#cb93-18" tabindex="-1"></a>    holiday <span class="ot">&lt;-</span> newyear <span class="sc">|</span> martinlking <span class="sc">|</span> presidentsday <span class="sc">|</span></span>
<span id="cb93-19"><a href="#cb93-19" tabindex="-1"></a>               memorialday <span class="sc">|</span> juneteenth <span class="sc">|</span> independence <span class="sc">|</span></span>
<span id="cb93-20"><a href="#cb93-20" tabindex="-1"></a>               labor <span class="sc">|</span> columbus <span class="sc">|</span> veterans <span class="sc">|</span> thanksgiving <span class="sc">|</span></span>
<span id="cb93-21"><a href="#cb93-21" tabindex="-1"></a>               christmas</span>
<span id="cb93-22"><a href="#cb93-22" tabindex="-1"></a>    <span class="co"># holiday names - a programming trick</span></span>
<span id="cb93-23"><a href="#cb93-23" tabindex="-1"></a>    <span class="co"># names of holnms should be the same as names of logical vectors above</span></span>
<span id="cb93-24"><a href="#cb93-24" tabindex="-1"></a>    <span class="fu">names</span>(holiday) <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">length</span>(holiday))</span>
<span id="cb93-25"><a href="#cb93-25" tabindex="-1"></a>    holnms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">newyear =</span> <span class="st">&quot;New Year&#39;s Day&quot;</span>,</span>
<span id="cb93-26"><a href="#cb93-26" tabindex="-1"></a>                <span class="at">martinlking =</span> <span class="st">&quot;Birthday of Martin Luther King, Jr.&quot;</span>,</span>
<span id="cb93-27"><a href="#cb93-27" tabindex="-1"></a>                <span class="at">presidentsday =</span> <span class="st">&quot;Washington&#39;s Birthday&quot;</span>,</span>
<span id="cb93-28"><a href="#cb93-28" tabindex="-1"></a>                <span class="at">memorialday =</span> <span class="st">&quot;Memorial Day&quot;</span>,</span>
<span id="cb93-29"><a href="#cb93-29" tabindex="-1"></a>                <span class="at">juneteenth =</span> <span class="st">&quot;Juneteenth National Independence Day&quot;</span>,</span>
<span id="cb93-30"><a href="#cb93-30" tabindex="-1"></a>                <span class="at">independence =</span> <span class="st">&quot;Independence Day&quot;</span>,</span>
<span id="cb93-31"><a href="#cb93-31" tabindex="-1"></a>                <span class="at">labor =</span> <span class="st">&quot;Labor Day&quot;</span>,</span>
<span id="cb93-32"><a href="#cb93-32" tabindex="-1"></a>                <span class="at">columbus =</span> <span class="st">&quot;Columbus Day&quot;</span>,</span>
<span id="cb93-33"><a href="#cb93-33" tabindex="-1"></a>                <span class="at">veterans =</span> <span class="st">&quot;Veterans Day&quot;</span>,</span>
<span id="cb93-34"><a href="#cb93-34" tabindex="-1"></a>                <span class="at">thanksgiving =</span> <span class="st">&quot;Thanksgiving Day&quot;</span>,</span>
<span id="cb93-35"><a href="#cb93-35" tabindex="-1"></a>                <span class="at">christmas =</span> <span class="st">&quot;Christmas Day&quot;</span>)</span>
<span id="cb93-36"><a href="#cb93-36" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">names</span>(holnms), <span class="cf">function</span>(nm) <span class="fu">names</span>(holiday)[<span class="fu">get</span>(nm)] <span class="ot">&lt;&lt;-</span> holnms[nm])</span>
<span id="cb93-37"><a href="#cb93-37" tabindex="-1"></a>    <span class="co"># business days</span></span>
<span id="cb93-38"><a href="#cb93-38" tabindex="-1"></a>    business <span class="ot">&lt;-</span> <span class="sc">!</span>holiday <span class="sc">&amp;</span> (<span class="fu">day_of_week</span>(dd) <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb93-39"><a href="#cb93-39" tabindex="-1"></a>    <span class="fu">return</span> (<span class="fu">list</span>(<span class="at">business =</span> business, <span class="at">holiday =</span> holiday))</span>
<span id="cb93-40"><a href="#cb93-40" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we can use our function to print the calendar. Note that to
obtain coloured output you have to have package <code>crayon</code>
installed.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="dv">2020</span>, calendar_US)</span></code></pre></div>
<pre class="r-output"><code>##                                       <span style="font-weight: bold;">2020</span>                                   
##              <span style="font-weight: bold;">Jan</span>                       <span style="font-weight: bold;">Feb</span>                       <span style="font-weight: bold;">Mar</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">01</span>        <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">05</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">09</span>                    <span style="color: #0000BB;">1</span>
##   <span style="color: #555555;">02</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">06</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">10</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>
##   <span style="color: #555555;">03</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">07</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">11</span>  9 10 11 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>
##   <span style="color: #555555;">04</span> <span style="color: #BB0000; font-weight: bold;">20</span> 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">08</span> <span style="color: #BB0000; font-weight: bold;">17</span> 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">12</span> 16 17 18 19 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>
##   <span style="color: #555555;">05</span> 27 28 29 30 31         <span style="color: #555555;">09</span> 24 25 26 27 28 <span style="color: #0000BB;">29</span>      <span style="color: #555555;">13</span> 23 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>
##                                                       <span style="color: #555555;">14</span> 30 31               
##              <span style="font-weight: bold;">Apr</span>                       <span style="font-weight: bold;">May</span>                       <span style="font-weight: bold;">Jun</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">14</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">18</span>              1  <span style="color: #0000BB;">2</span>  <span style="color: #0000BB;">3</span>   <span style="color: #555555;">23</span>  1  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">15</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">19</span>  4  5  6  7  8  <span style="color: #0000BB;">9</span> <span style="color: #0000BB;">10</span>   <span style="color: #555555;">24</span>  8  9 10 11 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">16</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">20</span> 11 12 13 14 15 <span style="color: #0000BB;">16</span> <span style="color: #0000BB;">17</span>   <span style="color: #555555;">25</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">17</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">21</span> 18 19 20 21 22 <span style="color: #0000BB;">23</span> <span style="color: #0000BB;">24</span>   <span style="color: #555555;">26</span> 22 23 24 25 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">18</span> 27 28 29 30            <span style="color: #555555;">22</span> <span style="color: #BB0000; font-weight: bold;">25</span> 26 27 28 29 <span style="color: #0000BB;">30</span> <span style="color: #0000BB;">31</span>   <span style="color: #555555;">27</span> 29 30               
##              <span style="font-weight: bold;">Jul</span>                       <span style="font-weight: bold;">Aug</span>                       <span style="font-weight: bold;">Sep</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">27</span>        1  2  3  <span style="color: #BB0000; font-weight: bold;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">31</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">36</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>
##   <span style="color: #555555;">28</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">32</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">37</span>  <span style="color: #BB0000; font-weight: bold;">7</span>  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>
##   <span style="color: #555555;">29</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">33</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">38</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>
##   <span style="color: #555555;">30</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">34</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">39</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>
##   <span style="color: #555555;">31</span> 27 28 29 30 31         <span style="color: #555555;">35</span> 24 25 26 27 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>   <span style="color: #555555;">40</span> 28 29 30            
##                             <span style="color: #555555;">36</span> 31                                            
##              <span style="font-weight: bold;">Oct</span>                       <span style="font-weight: bold;">Nov</span>                       <span style="font-weight: bold;">Dec</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>           1  2  <span style="color: #0000BB;">3</span>  <span style="color: #0000BB;">4</span>   <span style="color: #555555;">44</span>                    <span style="color: #0000BB;">1</span>   <span style="color: #555555;">49</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>
##   <span style="color: #555555;">41</span>  5  6  7  8  9 <span style="color: #0000BB;">10</span> <span style="color: #0000BB;">11</span>   <span style="color: #555555;">45</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>   <span style="color: #555555;">50</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>
##   <span style="color: #555555;">42</span> <span style="color: #BB0000; font-weight: bold;">12</span> 13 14 15 16 <span style="color: #0000BB;">17</span> <span style="color: #0000BB;">18</span>   <span style="color: #555555;">46</span>  9 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>   <span style="color: #555555;">51</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>
##   <span style="color: #555555;">43</span> 19 20 21 22 23 <span style="color: #0000BB;">24</span> <span style="color: #0000BB;">25</span>   <span style="color: #555555;">47</span> 16 17 18 19 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>   <span style="color: #555555;">52</span> 21 22 23 24 <span style="color: #BB0000; font-weight: bold;">25</span> <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>
##   <span style="color: #555555;">44</span> 26 27 28 29 30 <span style="color: #0000BB;">31</span>      <span style="color: #555555;">48</span> 23 24 25 <span style="color: #BB0000; font-weight: bold;">26</span> 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>   <span style="color: #555555;">53</span> 28 29 30 31         
##                             <span style="color: #555555;">49</span> 30
</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="fu">as.year</span>(<span class="fu">today</span>()), calendar_US)</span></code></pre></div>
<pre class="r-output"><code>##                                       <span style="font-weight: bold;">2025</span>                                   
##              <span style="font-weight: bold;">Jan</span>                       <span style="font-weight: bold;">Feb</span>                       <span style="font-weight: bold;">Mar</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">01</span>        <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">05</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">09</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>
##   <span style="color: #555555;">02</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">06</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">10</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>
##   <span style="color: #555555;">03</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">07</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">11</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>
##   <span style="color: #555555;">04</span> <span style="color: #BB0000; font-weight: bold;">20</span> 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">08</span> <span style="color: #BB0000; font-weight: bold;">17</span> 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">12</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>
##   <span style="color: #555555;">05</span> 27 28 29 30 31         <span style="color: #555555;">09</span> 24 25 26 27 28         <span style="color: #555555;">13</span> 24 25 26 27 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>
##                                                       <span style="color: #555555;">14</span> 31                  
##              <span style="font-weight: bold;">Apr</span>                       <span style="font-weight: bold;">May</span>                       <span style="font-weight: bold;">Jun</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">14</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>   <span style="color: #555555;">18</span>           1  2  <span style="color: #0000BB;">3</span>  <span style="color: #0000BB;">4</span>   <span style="color: #555555;">22</span>                    <span style="color: #0000BB;">1</span>
##   <span style="color: #555555;">15</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>   <span style="color: #555555;">19</span>  5  6  7  8  9 <span style="color: #0000BB;">10</span> <span style="color: #0000BB;">11</span>   <span style="color: #555555;">23</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>
##   <span style="color: #555555;">16</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>   <span style="color: #555555;">20</span> 12 13 14 15 16 <span style="color: #0000BB;">17</span> <span style="color: #0000BB;">18</span>   <span style="color: #555555;">24</span>  9 10 11 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>
##   <span style="color: #555555;">17</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>   <span style="color: #555555;">21</span> 19 20 21 22 23 <span style="color: #0000BB;">24</span> <span style="color: #0000BB;">25</span>   <span style="color: #555555;">25</span> 16 17 18 <span style="color: #BB0000; font-weight: bold;">19</span> 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>
##   <span style="color: #555555;">18</span> 28 29 30               <span style="color: #555555;">22</span> <span style="color: #BB0000; font-weight: bold;">26</span> 27 28 29 30 <span style="color: #0000BB;">31</span>      <span style="color: #555555;">26</span> 23 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>
##                                                       <span style="color: #555555;">27</span> 30                  
##              <span style="font-weight: bold;">Jul</span>                       <span style="font-weight: bold;">Aug</span>                       <span style="font-weight: bold;">Sep</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">27</span>     1  2  3  <span style="color: #BB0000; font-weight: bold;">4</span>  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>   <span style="color: #555555;">31</span>              1  <span style="color: #0000BB;">2</span>  <span style="color: #0000BB;">3</span>   <span style="color: #555555;">36</span>  <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">28</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>   <span style="color: #555555;">32</span>  4  5  6  7  8  <span style="color: #0000BB;">9</span> <span style="color: #0000BB;">10</span>   <span style="color: #555555;">37</span>  8  9 10 11 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">29</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>   <span style="color: #555555;">33</span> 11 12 13 14 15 <span style="color: #0000BB;">16</span> <span style="color: #0000BB;">17</span>   <span style="color: #555555;">38</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">30</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>   <span style="color: #555555;">34</span> 18 19 20 21 22 <span style="color: #0000BB;">23</span> <span style="color: #0000BB;">24</span>   <span style="color: #555555;">39</span> 22 23 24 25 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">31</span> 28 29 30 31            <span style="color: #555555;">35</span> 25 26 27 28 29 <span style="color: #0000BB;">30</span> <span style="color: #0000BB;">31</span>   <span style="color: #555555;">40</span> 29 30               
##              <span style="font-weight: bold;">Oct</span>                       <span style="font-weight: bold;">Nov</span>                       <span style="font-weight: bold;">Dec</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">44</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">49</span>  1  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">41</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">45</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">50</span>  8  9 10 11 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">42</span> <span style="color: #BB0000; font-weight: bold;">13</span> 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">46</span> 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">51</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">43</span> 20 21 22 23 24<span style="color: #BBBBBB; background-color: #BB0000;">[</span><span style="color: #0000BB;">25</span><span style="color: #BBBBBB; background-color: #BB0000;">]</span><span style="color: #0000BB;">26</span>   <span style="color: #555555;">47</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">52</span> 22 23 24 <span style="color: #BB0000; font-weight: bold;">25</span> 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">44</span> 27 28 29 30 31         <span style="color: #555555;">48</span> 24 25 26 <span style="color: #BB0000; font-weight: bold;">27</span> 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>   <span style="color: #555555;">01</span> 29 30 31
</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="st">&quot;2020-01&quot;</span>, calendar_US)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Jan 2020      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">01</span>        <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>  |  <span style="color: #BB0000; font-weight: bold;">1</span> - New Year&#39;s Day
##   <span style="color: #555555;">02</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>
##   <span style="color: #555555;">03</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>
##   <span style="color: #555555;">04</span> <span style="color: #BB0000; font-weight: bold;">20</span> 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>  | <span style="color: #BB0000; font-weight: bold;">20</span> - Birthday of Martin Luther King, Jr.
##   <span style="color: #555555;">05</span> 27 28 29 30 31
</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="at">calendar =</span> calendar_US)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Oct 2025      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>
##   <span style="color: #555555;">41</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>
##   <span style="color: #555555;">42</span> <span style="color: #BB0000; font-weight: bold;">13</span> 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>  | <span style="color: #BB0000; font-weight: bold;">13</span> - Columbus Day
##   <span style="color: #555555;">43</span> 20 21 22 23 24<span style="color: #BBBBBB; background-color: #BB0000;">[</span><span style="color: #0000BB;">25</span><span style="color: #BBBBBB; background-color: #BB0000;">]</span><span style="color: #0000BB;">26</span>
##   <span style="color: #555555;">44</span> 27 28 29 30 31      
##   <span style="font-weight: bold;">         Nov 2025      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">44</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>
##   <span style="color: #555555;">45</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>
##   <span style="color: #555555;">46</span> 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>  | <span style="color: #BB0000; font-weight: bold;">11</span> - Veterans Day
##   <span style="color: #555555;">47</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>
##   <span style="color: #555555;">48</span> 24 25 26 <span style="color: #BB0000; font-weight: bold;">27</span> 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>  | <span style="color: #BB0000; font-weight: bold;">27</span> - Thanksgiving Day
</code></pre>
</div>
<div id="an-example---business-days-holidays-and-other-observances-in-poland" class="section level3">
<h3>An example - Business Days, Holidays, and Other Observances in
Poland</h3>
<p>Public holidays in Poland have either fixed dates or are placed
relative to Easter.</p>
<p>The calendar function below returns a three-element list (business
days, holidays, and other observances). The same programming trick as
before is used to name holidays and other observances.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a>calendar_PL <span class="ot">&lt;-</span> <span class="cf">function</span>(dd)</span>
<span id="cb98-2"><a href="#cb98-2" tabindex="-1"></a>{</span>
<span id="cb98-3"><a href="#cb98-3" tabindex="-1"></a>    dd <span class="ot">&lt;-</span> <span class="fu">as.tind</span>(dd)</span>
<span id="cb98-4"><a href="#cb98-4" tabindex="-1"></a>    y <span class="ot">&lt;-</span> <span class="fu">year</span>(dd)</span>
<span id="cb98-5"><a href="#cb98-5" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">month</span>(dd)</span>
<span id="cb98-6"><a href="#cb98-6" tabindex="-1"></a>    d <span class="ot">&lt;-</span> <span class="fu">day</span>(dd)</span>
<span id="cb98-7"><a href="#cb98-7" tabindex="-1"></a>    <span class="co"># public holidays</span></span>
<span id="cb98-8"><a href="#cb98-8" tabindex="-1"></a>    newyear <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>)</span>
<span id="cb98-9"><a href="#cb98-9" tabindex="-1"></a>    epiphany <span class="ot">&lt;-</span> (y <span class="sc">&gt;=</span> <span class="dv">2011</span><span class="dt">L</span>) <span class="sc">&amp;</span> (m <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">6</span><span class="dt">L</span>)</span>
<span id="cb98-10"><a href="#cb98-10" tabindex="-1"></a>    easterd <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">==</span> dd</span>
<span id="cb98-11"><a href="#cb98-11" tabindex="-1"></a>    eastermon <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">+</span> <span class="dv">1</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-12"><a href="#cb98-12" tabindex="-1"></a>    labour <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">5</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>)</span>
<span id="cb98-13"><a href="#cb98-13" tabindex="-1"></a>    constitution <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">5</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">3</span><span class="dt">L</span>)</span>
<span id="cb98-14"><a href="#cb98-14" tabindex="-1"></a>    pentecost <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">+</span> <span class="dv">49</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-15"><a href="#cb98-15" tabindex="-1"></a>    corpuschristi <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">+</span> <span class="dv">60</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-16"><a href="#cb98-16" tabindex="-1"></a>    assumption <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">8</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">15</span><span class="dt">L</span>)</span>
<span id="cb98-17"><a href="#cb98-17" tabindex="-1"></a>    allsaints <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>)</span>
<span id="cb98-18"><a href="#cb98-18" tabindex="-1"></a>    independence <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">11</span><span class="dt">L</span>)</span>
<span id="cb98-19"><a href="#cb98-19" tabindex="-1"></a>    christmaseve <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">24</span><span class="dt">L</span>) <span class="sc">&amp;</span> (y <span class="sc">&gt;=</span> <span class="dv">2025</span>)</span>
<span id="cb98-20"><a href="#cb98-20" tabindex="-1"></a>    christmas <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">25</span><span class="dt">L</span>)</span>
<span id="cb98-21"><a href="#cb98-21" tabindex="-1"></a>    christmas2 <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">26</span><span class="dt">L</span>)</span>
<span id="cb98-22"><a href="#cb98-22" tabindex="-1"></a>    holiday <span class="ot">&lt;-</span> newyear <span class="sc">|</span> epiphany <span class="sc">|</span></span>
<span id="cb98-23"><a href="#cb98-23" tabindex="-1"></a>               easterd <span class="sc">|</span> eastermon <span class="sc">|</span></span>
<span id="cb98-24"><a href="#cb98-24" tabindex="-1"></a>               labour <span class="sc">|</span> constitution <span class="sc">|</span></span>
<span id="cb98-25"><a href="#cb98-25" tabindex="-1"></a>               pentecost <span class="sc">|</span> corpuschristi <span class="sc">|</span></span>
<span id="cb98-26"><a href="#cb98-26" tabindex="-1"></a>               assumption <span class="sc">|</span></span>
<span id="cb98-27"><a href="#cb98-27" tabindex="-1"></a>               allsaints <span class="sc">|</span> independence <span class="sc">|</span></span>
<span id="cb98-28"><a href="#cb98-28" tabindex="-1"></a>               christmaseve <span class="sc">|</span> christmas <span class="sc">|</span> christmas2</span>
<span id="cb98-29"><a href="#cb98-29" tabindex="-1"></a>    <span class="co"># holiday names</span></span>
<span id="cb98-30"><a href="#cb98-30" tabindex="-1"></a>    <span class="fu">names</span>(holiday) <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">length</span>(holiday))</span>
<span id="cb98-31"><a href="#cb98-31" tabindex="-1"></a>    holnms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">newyear =</span> <span class="st">&quot;New Year&quot;</span>, <span class="at">epiphany =</span> <span class="st">&quot;Epiphany&quot;</span>,</span>
<span id="cb98-32"><a href="#cb98-32" tabindex="-1"></a>                <span class="at">easterd =</span> <span class="st">&quot;Easter&quot;</span>, <span class="at">eastermon =</span> <span class="st">&quot;Easter Monday&quot;</span>,</span>
<span id="cb98-33"><a href="#cb98-33" tabindex="-1"></a>                <span class="at">labour =</span> <span class="st">&quot;Labour Day&quot;</span>, <span class="at">constitution =</span> <span class="st">&quot;Constitution Day&quot;</span>,</span>
<span id="cb98-34"><a href="#cb98-34" tabindex="-1"></a>                <span class="at">pentecost =</span> <span class="st">&quot;Pentecost&quot;</span>, <span class="at">corpuschristi =</span> <span class="st">&quot;Corpus Christi&quot;</span>,</span>
<span id="cb98-35"><a href="#cb98-35" tabindex="-1"></a>                <span class="at">assumption =</span> <span class="st">&quot;Assumption of Mary&quot;</span>,</span>
<span id="cb98-36"><a href="#cb98-36" tabindex="-1"></a>                <span class="at">allsaints =</span> <span class="st">&quot;All Saints Day&quot;</span>, <span class="at">independence =</span> <span class="st">&quot;Independence Day&quot;</span>,</span>
<span id="cb98-37"><a href="#cb98-37" tabindex="-1"></a>                <span class="at">christmaseve =</span> <span class="st">&quot;Christmas Eve&quot;</span>,</span>
<span id="cb98-38"><a href="#cb98-38" tabindex="-1"></a>                <span class="at">christmas =</span> <span class="st">&quot;Christmas&quot;</span>, <span class="at">christmas2 =</span> <span class="st">&quot;Christmas (2nd day)&quot;</span>)</span>
<span id="cb98-39"><a href="#cb98-39" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">names</span>(holnms), <span class="cf">function</span>(nm) <span class="fu">names</span>(holiday)[<span class="fu">get</span>(nm)] <span class="ot">&lt;&lt;-</span> holnms[nm])</span>
<span id="cb98-40"><a href="#cb98-40" tabindex="-1"></a>    <span class="co"># working/business days</span></span>
<span id="cb98-41"><a href="#cb98-41" tabindex="-1"></a>    work <span class="ot">&lt;-</span> <span class="sc">!</span>holiday <span class="sc">&amp;</span> (<span class="fu">day_of_week</span>(dd) <span class="sc">&lt;=</span> <span class="dv">5</span><span class="dt">L</span>)</span>
<span id="cb98-42"><a href="#cb98-42" tabindex="-1"></a>    <span class="co"># other observances</span></span>
<span id="cb98-43"><a href="#cb98-43" tabindex="-1"></a>    fatthursday <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">-</span> <span class="dv">52</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-44"><a href="#cb98-44" tabindex="-1"></a>    shrovetuesday <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">-</span> <span class="dv">47</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-45"><a href="#cb98-45" tabindex="-1"></a>    ashwednesday <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">-</span> <span class="dv">46</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-46"><a href="#cb98-46" tabindex="-1"></a>    goodfriday <span class="ot">&lt;-</span> <span class="fu">easter</span>(dd) <span class="sc">-</span> <span class="dv">2</span><span class="dt">L</span> <span class="sc">==</span> dd</span>
<span id="cb98-47"><a href="#cb98-47" tabindex="-1"></a>    primaaprilis <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">4</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>)</span>
<span id="cb98-48"><a href="#cb98-48" tabindex="-1"></a>    flagday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">5</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">2</span><span class="dt">L</span>)</span>
<span id="cb98-49"><a href="#cb98-49" tabindex="-1"></a>    mothersday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">5</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">26</span><span class="dt">L</span>)</span>
<span id="cb98-50"><a href="#cb98-50" tabindex="-1"></a>    childrensday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">6</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">1</span><span class="dt">L</span>)</span>
<span id="cb98-51"><a href="#cb98-51" tabindex="-1"></a>    saintjohnseve <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">6</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">23</span><span class="dt">L</span>)</span>
<span id="cb98-52"><a href="#cb98-52" tabindex="-1"></a>    allsoulsday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">2</span><span class="dt">L</span>)</span>
<span id="cb98-53"><a href="#cb98-53" tabindex="-1"></a>    saintandrewseve <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">11</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">29</span><span class="dt">L</span>)</span>
<span id="cb98-54"><a href="#cb98-54" tabindex="-1"></a>    saintnicholasday <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">6</span><span class="dt">L</span>)</span>
<span id="cb98-55"><a href="#cb98-55" tabindex="-1"></a>    christmaseve <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">24</span><span class="dt">L</span>) <span class="sc">&amp;</span> (y <span class="sc">&lt;</span> <span class="dv">2025</span>)</span>
<span id="cb98-56"><a href="#cb98-56" tabindex="-1"></a>    newyeareve <span class="ot">&lt;-</span> (m <span class="sc">==</span> <span class="dv">12</span><span class="dt">L</span>) <span class="sc">&amp;</span> (d <span class="sc">==</span> <span class="dv">31</span><span class="dt">L</span>)</span>
<span id="cb98-57"><a href="#cb98-57" tabindex="-1"></a>    other <span class="ot">&lt;-</span> fatthursday <span class="sc">|</span> shrovetuesday <span class="sc">|</span> ashwednesday <span class="sc">|</span></span>
<span id="cb98-58"><a href="#cb98-58" tabindex="-1"></a>             goodfriday <span class="sc">|</span></span>
<span id="cb98-59"><a href="#cb98-59" tabindex="-1"></a>             primaaprilis <span class="sc">|</span></span>
<span id="cb98-60"><a href="#cb98-60" tabindex="-1"></a>             flagday <span class="sc">|</span></span>
<span id="cb98-61"><a href="#cb98-61" tabindex="-1"></a>             mothersday <span class="sc">|</span> childrensday <span class="sc">|</span> saintjohnseve <span class="sc">|</span></span>
<span id="cb98-62"><a href="#cb98-62" tabindex="-1"></a>             allsoulsday <span class="sc">|</span></span>
<span id="cb98-63"><a href="#cb98-63" tabindex="-1"></a>             saintandrewseve <span class="sc">|</span></span>
<span id="cb98-64"><a href="#cb98-64" tabindex="-1"></a>             saintnicholasday <span class="sc">|</span> christmaseve <span class="sc">|</span></span>
<span id="cb98-65"><a href="#cb98-65" tabindex="-1"></a>             newyeareve</span>
<span id="cb98-66"><a href="#cb98-66" tabindex="-1"></a>    <span class="fu">names</span>(other) <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">length</span>(other))</span>
<span id="cb98-67"><a href="#cb98-67" tabindex="-1"></a>    othernms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">fatthursday =</span> <span class="st">&quot;Fat Thursday&quot;</span>,</span>
<span id="cb98-68"><a href="#cb98-68" tabindex="-1"></a>                  <span class="at">shrovetuesday =</span> <span class="st">&quot;Shrove Tuesday&quot;</span>,</span>
<span id="cb98-69"><a href="#cb98-69" tabindex="-1"></a>                  <span class="at">ashwednesday =</span> <span class="st">&quot;Ash Wednesday&quot;</span>,</span>
<span id="cb98-70"><a href="#cb98-70" tabindex="-1"></a>                  <span class="at">goodfriday =</span> <span class="st">&quot;Good Friday&quot;</span>,</span>
<span id="cb98-71"><a href="#cb98-71" tabindex="-1"></a>                  <span class="at">primaaprilis =</span> <span class="st">&quot;All Fool&#39;s Day&quot;</span>,</span>
<span id="cb98-72"><a href="#cb98-72" tabindex="-1"></a>                  <span class="at">flagday =</span> <span class="st">&quot;Flag Day&quot;</span>,</span>
<span id="cb98-73"><a href="#cb98-73" tabindex="-1"></a>                  <span class="at">mothersday =</span> <span class="st">&quot;Mother&#39;s Day&quot;</span>,</span>
<span id="cb98-74"><a href="#cb98-74" tabindex="-1"></a>                  <span class="at">childrensday =</span> <span class="st">&quot;Children&#39;s Day&quot;</span>,</span>
<span id="cb98-75"><a href="#cb98-75" tabindex="-1"></a>                  <span class="at">saintjohnseve =</span> <span class="st">&quot;Saint John&#39;s Eve&quot;</span>,</span>
<span id="cb98-76"><a href="#cb98-76" tabindex="-1"></a>                  <span class="at">allsoulsday =</span> <span class="st">&quot;All Souls&#39; Day&quot;</span>,</span>
<span id="cb98-77"><a href="#cb98-77" tabindex="-1"></a>                  <span class="at">saintandrewseve =</span> <span class="st">&quot;Saint Andrew&#39;s Eve&quot;</span>,</span>
<span id="cb98-78"><a href="#cb98-78" tabindex="-1"></a>                  <span class="at">saintnicholasday =</span> <span class="st">&quot;Saint Nicholas Day&quot;</span>,</span>
<span id="cb98-79"><a href="#cb98-79" tabindex="-1"></a>                  <span class="at">christmaseve =</span> <span class="st">&quot;Christmas Eve&quot;</span>,</span>
<span id="cb98-80"><a href="#cb98-80" tabindex="-1"></a>                  <span class="at">newyeareve =</span> <span class="st">&quot;New Year&#39;s Eve&quot;</span>)</span>
<span id="cb98-81"><a href="#cb98-81" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">names</span>(othernms), <span class="cf">function</span>(nm) <span class="fu">names</span>(other)[<span class="fu">get</span>(nm)] <span class="ot">&lt;&lt;-</span> othernms[nm])</span>
<span id="cb98-82"><a href="#cb98-82" tabindex="-1"></a></span>
<span id="cb98-83"><a href="#cb98-83" tabindex="-1"></a>    <span class="fu">return</span> (<span class="fu">list</span>(<span class="at">work =</span> work, <span class="at">holiday =</span> holiday, <span class="at">other =</span> other))</span>
<span id="cb98-84"><a href="#cb98-84" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="dv">2020</span>, calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>##                                       <span style="font-weight: bold;">2020</span>                                   
##              <span style="font-weight: bold;">Jan</span>                       <span style="font-weight: bold;">Feb</span>                       <span style="font-weight: bold;">Mar</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">01</span>        <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">05</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">09</span>                    <span style="color: #0000BB;">1</span>
##   <span style="color: #555555;">02</span>  <span style="color: #BB0000; font-weight: bold;">6</span>  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">06</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">10</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>
##   <span style="color: #555555;">03</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">07</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">11</span>  9 10 11 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>
##   <span style="color: #555555;">04</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">08</span> 17 18 19 <span style="text-decoration: underline;">20</span> 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">12</span> 16 17 18 19 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>
##   <span style="color: #555555;">05</span> 27 28 29 30 31         <span style="color: #555555;">09</span> 24 <span style="text-decoration: underline;">25</span> <span style="text-decoration: underline;">26</span> 27 28 <span style="color: #0000BB;">29</span>      <span style="color: #555555;">13</span> 23 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>
##                                                       <span style="color: #555555;">14</span> 30 31               
##              <span style="font-weight: bold;">Apr</span>                       <span style="font-weight: bold;">May</span>                       <span style="font-weight: bold;">Jun</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">14</span>        <span style="text-decoration: underline;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">18</span>              <span style="color: #BB0000; font-weight: bold;">1</span>  <span style="color: #0000BB; text-decoration: underline;">2</span>  <span style="color: #BB0000; font-weight: bold;">3</span>   <span style="color: #555555;">23</span>  <span style="text-decoration: underline;">1</span>  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">15</span>  6  7  8  9 <span style="text-decoration: underline;">10</span> <span style="color: #0000BB;">11</span> <span style="color: #BB0000; font-weight: bold;">12</span>   <span style="color: #555555;">19</span>  4  5  6  7  8  <span style="color: #0000BB;">9</span> <span style="color: #0000BB;">10</span>   <span style="color: #555555;">24</span>  8  9 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">16</span> <span style="color: #BB0000; font-weight: bold;">13</span> 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">20</span> 11 12 13 14 15 <span style="color: #0000BB;">16</span> <span style="color: #0000BB;">17</span>   <span style="color: #555555;">25</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">17</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">21</span> 18 19 20 21 22 <span style="color: #0000BB;">23</span> <span style="color: #0000BB;">24</span>   <span style="color: #555555;">26</span> 22 <span style="text-decoration: underline;">23</span> 24 25 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">18</span> 27 28 29 30            <span style="color: #555555;">22</span> 25 <span style="text-decoration: underline;">26</span> 27 28 29 <span style="color: #0000BB;">30</span> <span style="color: #BB0000; font-weight: bold;">31</span>   <span style="color: #555555;">27</span> 29 30               
##              <span style="font-weight: bold;">Jul</span>                       <span style="font-weight: bold;">Aug</span>                       <span style="font-weight: bold;">Sep</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">27</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">31</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">36</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>
##   <span style="color: #555555;">28</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">32</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">37</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>
##   <span style="color: #555555;">29</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">33</span> 10 11 12 13 14 <span style="color: #BB0000; font-weight: bold;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">38</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>
##   <span style="color: #555555;">30</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">34</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">39</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>
##   <span style="color: #555555;">31</span> 27 28 29 30 31         <span style="color: #555555;">35</span> 24 25 26 27 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>   <span style="color: #555555;">40</span> 28 29 30            
##                             <span style="color: #555555;">36</span> 31                                            
##              <span style="font-weight: bold;">Oct</span>                       <span style="font-weight: bold;">Nov</span>                       <span style="font-weight: bold;">Dec</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>           1  2  <span style="color: #0000BB;">3</span>  <span style="color: #0000BB;">4</span>   <span style="color: #555555;">44</span>                    <span style="color: #BB0000; font-weight: bold;">1</span>   <span style="color: #555555;">49</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB; text-decoration: underline;">6</span>
##   <span style="color: #555555;">41</span>  5  6  7  8  9 <span style="color: #0000BB;">10</span> <span style="color: #0000BB;">11</span>   <span style="color: #555555;">45</span>  <span style="text-decoration: underline;">2</span>  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>   <span style="color: #555555;">50</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>
##   <span style="color: #555555;">42</span> 12 13 14 15 16 <span style="color: #0000BB;">17</span> <span style="color: #0000BB;">18</span>   <span style="color: #555555;">46</span>  9 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>   <span style="color: #555555;">51</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>
##   <span style="color: #555555;">43</span> 19 20 21 22 23 <span style="color: #0000BB;">24</span> <span style="color: #0000BB;">25</span>   <span style="color: #555555;">47</span> 16 17 18 19 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>   <span style="color: #555555;">52</span> 21 22 23 <span style="text-decoration: underline;">24</span> <span style="color: #BB0000; font-weight: bold;">25</span> <span style="color: #BB0000; font-weight: bold;">26</span> <span style="color: #0000BB;">27</span>
##   <span style="color: #555555;">44</span> 26 27 28 29 30 <span style="color: #0000BB;">31</span>      <span style="color: #555555;">48</span> 23 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB; text-decoration: underline;">29</span>   <span style="color: #555555;">53</span> 28 29 30 <span style="text-decoration: underline;">31</span>         
##                             <span style="color: #555555;">49</span> 30
</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="fu">as.year</span>(<span class="fu">today</span>()), calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>##                                       <span style="font-weight: bold;">2025</span>                                   
##              <span style="font-weight: bold;">Jan</span>                       <span style="font-weight: bold;">Feb</span>                       <span style="font-weight: bold;">Mar</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">01</span>        <span style="color: #BB0000; font-weight: bold;">1</span>  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">05</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>   <span style="color: #555555;">09</span>                 <span style="color: #0000BB;">1</span>  <span style="color: #0000BB;">2</span>
##   <span style="color: #555555;">02</span>  <span style="color: #BB0000; font-weight: bold;">6</span>  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">06</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">10</span>  3  <span style="text-decoration: underline;">4</span>  <span style="text-decoration: underline;">5</span>  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>
##   <span style="color: #555555;">03</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">07</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">11</span> 10 11 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>
##   <span style="color: #555555;">04</span> 20 21 22 23 24 <span style="color: #0000BB;">25</span> <span style="color: #0000BB;">26</span>   <span style="color: #555555;">08</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">12</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>
##   <span style="color: #555555;">05</span> 27 28 29 30 31         <span style="color: #555555;">09</span> 24 25 26 <span style="text-decoration: underline;">27</span> 28         <span style="color: #555555;">13</span> 24 25 26 27 28 <span style="color: #0000BB;">29</span> <span style="color: #0000BB;">30</span>
##                                                       <span style="color: #555555;">14</span> 31                  
##              <span style="font-weight: bold;">Apr</span>                       <span style="font-weight: bold;">May</span>                       <span style="font-weight: bold;">Jun</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">14</span>     <span style="text-decoration: underline;">1</span>  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>   <span style="color: #555555;">18</span>           <span style="color: #BB0000; font-weight: bold;">1</span>  <span style="text-decoration: underline;">2</span>  <span style="color: #BB0000; font-weight: bold;">3</span>  <span style="color: #0000BB;">4</span>   <span style="color: #555555;">22</span>                    <span style="color: #0000BB; text-decoration: underline;">1</span>
##   <span style="color: #555555;">15</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>   <span style="color: #555555;">19</span>  5  6  7  8  9 <span style="color: #0000BB;">10</span> <span style="color: #0000BB;">11</span>   <span style="color: #555555;">23</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #BB0000; font-weight: bold;">8</span>
##   <span style="color: #555555;">16</span> 14 15 16 17 <span style="text-decoration: underline;">18</span> <span style="color: #0000BB;">19</span> <span style="color: #BB0000; font-weight: bold;">20</span>   <span style="color: #555555;">20</span> 12 13 14 15 16 <span style="color: #0000BB;">17</span> <span style="color: #0000BB;">18</span>   <span style="color: #555555;">24</span>  9 10 11 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>
##   <span style="color: #555555;">17</span> <span style="color: #BB0000; font-weight: bold;">21</span> 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>   <span style="color: #555555;">21</span> 19 20 21 22 23 <span style="color: #0000BB;">24</span> <span style="color: #0000BB;">25</span>   <span style="color: #555555;">25</span> 16 17 18 <span style="color: #BB0000; font-weight: bold;">19</span> 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>
##   <span style="color: #555555;">18</span> 28 29 30               <span style="color: #555555;">22</span> <span style="text-decoration: underline;">26</span> 27 28 29 30 <span style="color: #0000BB;">31</span>      <span style="color: #555555;">26</span> <span style="text-decoration: underline;">23</span> 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>
##                                                       <span style="color: #555555;">27</span> 30                  
##              <span style="font-weight: bold;">Jul</span>                       <span style="font-weight: bold;">Aug</span>                       <span style="font-weight: bold;">Sep</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">27</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>   <span style="color: #555555;">31</span>              1  <span style="color: #0000BB;">2</span>  <span style="color: #0000BB;">3</span>   <span style="color: #555555;">36</span>  1  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">28</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>   <span style="color: #555555;">32</span>  4  5  6  7  8  <span style="color: #0000BB;">9</span> <span style="color: #0000BB;">10</span>   <span style="color: #555555;">37</span>  8  9 10 11 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">29</span> 14 15 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>   <span style="color: #555555;">33</span> 11 12 13 14 <span style="color: #BB0000; font-weight: bold;">15</span> <span style="color: #0000BB;">16</span> <span style="color: #0000BB;">17</span>   <span style="color: #555555;">38</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">30</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>   <span style="color: #555555;">34</span> 18 19 20 21 22 <span style="color: #0000BB;">23</span> <span style="color: #0000BB;">24</span>   <span style="color: #555555;">39</span> 22 23 24 25 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">31</span> 28 29 30 31            <span style="color: #555555;">35</span> 25 26 27 28 29 <span style="color: #0000BB;">30</span> <span style="color: #0000BB;">31</span>   <span style="color: #555555;">40</span> 29 30               
##              <span style="font-weight: bold;">Oct</span>                       <span style="font-weight: bold;">Nov</span>                       <span style="font-weight: bold;">Dec</span>         
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>   <span style="color: #555555;">44</span>                 <span style="color: #BB0000; font-weight: bold;">1</span>  <span style="color: #0000BB; text-decoration: underline;">2</span>   <span style="color: #555555;">49</span>  1  2  3  4  5  <span style="color: #0000BB; text-decoration: underline;">6</span>  <span style="color: #0000BB;">7</span>
##   <span style="color: #555555;">41</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>   <span style="color: #555555;">45</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>   <span style="color: #555555;">50</span>  8  9 10 11 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>
##   <span style="color: #555555;">42</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>   <span style="color: #555555;">46</span> 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>   <span style="color: #555555;">51</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">43</span> 20 21 22 23 24<span style="color: #BBBBBB; background-color: #BB0000;">[</span><span style="color: #0000BB;">25</span><span style="color: #BBBBBB; background-color: #BB0000;">]</span><span style="color: #0000BB;">26</span>   <span style="color: #555555;">47</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>   <span style="color: #555555;">52</span> 22 23 <span style="color: #BB0000; font-weight: bold;">24</span> <span style="color: #BB0000; font-weight: bold;">25</span> <span style="color: #BB0000; font-weight: bold;">26</span> <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>
##   <span style="color: #555555;">44</span> 27 28 29 30 31         <span style="color: #555555;">48</span> 24 25 26 27 28 <span style="color: #0000BB; text-decoration: underline;">29</span> <span style="color: #0000BB;">30</span>   <span style="color: #555555;">01</span> 29 30 <span style="text-decoration: underline;">31</span>
</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="st">&quot;2020-06&quot;</span>, calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Jun 2020      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">23</span>  <span style="text-decoration: underline;">1</span>  2  3  4  5  <span style="color: #0000BB;">6</span>  <span style="color: #0000BB;">7</span>  |  <span style="text-decoration: underline;">1</span> - Children&#39;s Day
##   <span style="color: #555555;">24</span>  8  9 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 <span style="color: #0000BB;">13</span> <span style="color: #0000BB;">14</span>  | <span style="color: #BB0000; font-weight: bold;">11</span> - Corpus Christi
##   <span style="color: #555555;">25</span> 15 16 17 18 19 <span style="color: #0000BB;">20</span> <span style="color: #0000BB;">21</span>
##   <span style="color: #555555;">26</span> 22 <span style="text-decoration: underline;">23</span> 24 25 26 <span style="color: #0000BB;">27</span> <span style="color: #0000BB;">28</span>  | <span style="text-decoration: underline;">23</span> - Saint John&#39;s Eve
##   <span style="color: #555555;">27</span> 29 30
</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="at">calendar =</span> calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Oct 2025      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">40</span>        1  2  3  <span style="color: #0000BB;">4</span>  <span style="color: #0000BB;">5</span>
##   <span style="color: #555555;">41</span>  6  7  8  9 10 <span style="color: #0000BB;">11</span> <span style="color: #0000BB;">12</span>
##   <span style="color: #555555;">42</span> 13 14 15 16 17 <span style="color: #0000BB;">18</span> <span style="color: #0000BB;">19</span>
##   <span style="color: #555555;">43</span> 20 21 22 23 24<span style="color: #BBBBBB; background-color: #BB0000;">[</span><span style="color: #0000BB;">25</span><span style="color: #BBBBBB; background-color: #BB0000;">]</span><span style="color: #0000BB;">26</span>
##   <span style="color: #555555;">44</span> 27 28 29 30 31      
##   <span style="font-weight: bold;">         Nov 2025      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">44</span>                 <span style="color: #BB0000; font-weight: bold;">1</span>  <span style="color: #0000BB; text-decoration: underline;">2</span>  |  <span style="color: #BB0000; font-weight: bold;">1</span> - All Saints Day, <span style="color: #0000BB; text-decoration: underline;">2</span> - All Souls&#39; Day
##   <span style="color: #555555;">45</span>  3  4  5  6  7  <span style="color: #0000BB;">8</span>  <span style="color: #0000BB;">9</span>
##   <span style="color: #555555;">46</span> 10 <span style="color: #BB0000; font-weight: bold;">11</span> 12 13 14 <span style="color: #0000BB;">15</span> <span style="color: #0000BB;">16</span>  | <span style="color: #BB0000; font-weight: bold;">11</span> - Independence Day
##   <span style="color: #555555;">47</span> 17 18 19 20 21 <span style="color: #0000BB;">22</span> <span style="color: #0000BB;">23</span>
##   <span style="color: #555555;">48</span> 24 25 26 27 28 <span style="color: #0000BB; text-decoration: underline;">29</span> <span style="color: #0000BB;">30</span>  | <span style="color: #0000BB; text-decoration: underline;">29</span> - Saint Andrew&#39;s Eve
</code></pre>
</div>
</div>
<div id="business-days" class="section level2">
<h2>Business Days</h2>
<p>Calendar functions described above can be used for business day
computations. <code>tind</code> provides the following functions that
can be used in this context:</p>
<ul>
<li><code>bizday()</code> for finding the closest business day (using
different date rolling conventions) if the given day is not a one,</li>
<li><code>bizday_diff()</code> for computing number of business days
between two dates,</li>
<li>functions determining the first and the last business day in a given
period: <code>first_bizday_in_month()</code>,
<code>last_bizday_in_month()</code>,
<code>first_bizday_in_quarter()</code>,
<code>last_bizday_in_quarter()</code>,</li>
<li>functions determining the number of business days in a given period:
<code>bizdays_in_month()</code>, <code>bizdays_in_quarter()</code>,
<code>bizdays_in_year()</code>.</li>
</ul>
<p>Some examples using <code>bizday()</code> and calendar functions
presented earlier are provided below (January 16, 2023 was a public
holiday in the US and August 15, 2023 in Poland):</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="st">&quot;2023-01&quot;</span>, <span class="at">calendar =</span> calendar_US)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Jan 2023      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">52</span>                    <span style="color: #BB0000; font-weight: bold;">1</span>  |  <span style="color: #BB0000; font-weight: bold;">1</span> - New Year&#39;s Day
##   <span style="color: #555555;">01</span>  2  3  4  5  6  <span style="color: #0000BB;">7</span>  <span style="color: #0000BB;">8</span>
##   <span style="color: #555555;">02</span>  9 10 11 12 13 <span style="color: #0000BB;">14</span> <span style="color: #0000BB;">15</span>
##   <span style="color: #555555;">03</span> <span style="color: #BB0000; font-weight: bold;">16</span> 17 18 19 20 <span style="color: #0000BB;">21</span> <span style="color: #0000BB;">22</span>  | <span style="color: #BB0000; font-weight: bold;">16</span> - Birthday of Martin Luther King, Jr.
##   <span style="color: #555555;">04</span> 23 24 25 26 27 <span style="color: #0000BB;">28</span> <span style="color: #0000BB;">29</span>
##   <span style="color: #555555;">05</span> 30 31
</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-01-15&quot;</span>, <span class="st">&quot;p&quot;</span>, calendar_US)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-01-13
</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-01-15&quot;</span>, <span class="st">&quot;f&quot;</span>, calendar_US)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-01-17
</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-01-15&quot;</span>, <span class="st">&quot;mf2&quot;</span>, calendar_US)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-01-13
</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" tabindex="-1"></a><span class="fu">calendar</span>(<span class="st">&quot;2023-08&quot;</span>, <span class="at">calendar =</span> calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>##   <span style="font-weight: bold;">         Aug 2023      </span>
##      <span style="color: #555555;">Mo</span> <span style="color: #555555;">Tu</span> <span style="color: #555555;">We</span> <span style="color: #555555;">Th</span> <span style="color: #555555;">Fr</span> <span style="color: #555555;">Sa</span> <span style="color: #555555;">Su</span>
##   <span style="color: #555555;">31</span>     1  2  3  4  <span style="color: #0000BB;">5</span>  <span style="color: #0000BB;">6</span>
##   <span style="color: #555555;">32</span>  7  8  9 10 11 <span style="color: #0000BB;">12</span> <span style="color: #0000BB;">13</span>
##   <span style="color: #555555;">33</span> 14 <span style="color: #BB0000; font-weight: bold;">15</span> 16 17 18 <span style="color: #0000BB;">19</span> <span style="color: #0000BB;">20</span>  | <span style="color: #BB0000; font-weight: bold;">15</span> - Assumption of Mary
##   <span style="color: #555555;">34</span> 21 22 23 24 25 <span style="color: #0000BB;">26</span> <span style="color: #0000BB;">27</span>
##   <span style="color: #555555;">35</span> 28 29 30 31
</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-08-15&quot;</span>, <span class="st">&quot;p&quot;</span>, calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-08-14
</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-08-15&quot;</span>, <span class="st">&quot;f&quot;</span>, calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-08-16
</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="fu">bizday</span>(<span class="st">&quot;2023-08-15&quot;</span>, <span class="st">&quot;mf2&quot;</span>, calendar_PL)</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2023-08-14
</code></pre>
<p>The code below creates a table summarising the number of business
days in months in 2023 in Poland and the US.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">as.month</span>(<span class="st">&quot;2023-01&quot;</span>) <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">11</span></span>
<span id="cb111-2"><a href="#cb111-2" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">month =</span> m, <span class="at">PL =</span> <span class="fu">bizdays_in_month</span>(m, calendar_PL),</span>
<span id="cb111-3"><a href="#cb111-3" tabindex="-1"></a>                      <span class="at">US =</span> <span class="fu">bizdays_in_month</span>(m, calendar_US))</span></code></pre></div>
<pre class="r-output"><code>##      month PL US
## 1  2023-01 21 21
## 2  2023-02 20 19
## 3  2023-03 23 23
## 4  2023-04 19 20
## 5  2023-05 21 22
## 6  2023-06 21 21
## 7  2023-07 21 20
## 8  2023-08 22 23
## 9  2023-09 21 20
## 10 2023-10 22 21
## 11 2023-11 21 21
## 12 2023-12 19 20
</code></pre>
</div>
<div id="year-fractions-and-accrual-factors" class="section level2">
<h2>Year Fractions and Accrual Factors</h2>
<p><code>year_frac</code> function returns time indices as year
fractions in the form year + year fraction, where fraction is the number
of periods (quarters, months, weeks, days, seconds) since the beginning
of the year over total number of periods in the year.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a>(d <span class="ot">&lt;-</span> <span class="fu">as.date</span>(<span class="st">&quot;2024-05-05&quot;</span>))</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2024-05-05
</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" tabindex="-1"></a><span class="fu">year_frac</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.342
</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a><span class="fu">year</span>(d) <span class="sc">+</span> (<span class="fu">day_of_year</span>(d) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="fu">days_in_year</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.342
</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" tabindex="-1"></a><span class="fu">as.quarter</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## quarter [tind]
## [1] 2024Q2
</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" tabindex="-1"></a><span class="fu">year_frac</span>(<span class="fu">as.quarter</span>(d))</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.25
</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="fu">year</span>(d) <span class="sc">+</span> (<span class="fu">quarter</span>(d) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">4</span></span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.25
</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="fu">as.month</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## month [tind]
## [1] 2024-05
</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" tabindex="-1"></a><span class="fu">year_frac</span>(<span class="fu">as.month</span>(d))</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.333
</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" tabindex="-1"></a><span class="fu">year</span>(d) <span class="sc">+</span> (<span class="fu">month</span>(d) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">12</span></span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.333
</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" tabindex="-1"></a><span class="fu">as.week</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## week [tind]
## [1] 2024-W18
</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" tabindex="-1"></a><span class="fu">year_frac</span>(<span class="fu">as.week</span>(d))</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.327
</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" tabindex="-1"></a><span class="fu">year</span>(d) <span class="sc">+</span> (<span class="fu">week</span>(d) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="fu">weeks_in_year</span>(d)</span></code></pre></div>
<pre class="r-output"><code>## [1] 2024.327
</code></pre>
<p><code>daycount_frac</code> allows to compute accrual factor using
different day count conventions. Below we create a sequence of 5
consecutive International Money Market days and compute accrual factors
between the first and the following four using different
conventions:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a>(imm <span class="ot">&lt;-</span> <span class="fu">nth_dw_in_month</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fu">tind</span>(<span class="at">y =</span> <span class="dv">2025</span>, <span class="at">m =</span> <span class="dv">12</span>) <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>)))</span></code></pre></div>
<pre class="r-output"><code>## date [tind]
## [1] 2025-12-17 2026-03-18 2026-06-17 2026-09-16 2026-12-16
</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" tabindex="-1"></a><span class="fu">daycount_frac</span>(imm[<span class="dv">1</span><span class="dt">L</span>], imm[<span class="sc">-</span><span class="dv">1</span><span class="dt">L</span>], <span class="st">&quot;30/360&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 0.2527778 0.5000000 0.7472222 0.9972222
</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="fu">daycount_frac</span>(imm[<span class="dv">1</span><span class="dt">L</span>], imm[<span class="sc">-</span><span class="dv">1</span><span class="dt">L</span>], <span class="st">&quot;30E/360&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 0.2527778 0.5000000 0.7472222 0.9972222
</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" tabindex="-1"></a><span class="fu">daycount_frac</span>(imm[<span class="dv">1</span><span class="dt">L</span>], imm[<span class="sc">-</span><span class="dv">1</span><span class="dt">L</span>], <span class="st">&quot;ACT/ACT&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 0.2493151 0.4986301 0.7479452 0.9972603
</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" tabindex="-1"></a><span class="fu">daycount_frac</span>(imm[<span class="dv">1</span><span class="dt">L</span>], imm[<span class="sc">-</span><span class="dv">1</span><span class="dt">L</span>], <span class="st">&quot;ACT/365F&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 0.2493151 0.4986301 0.7479452 0.9972603
</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" tabindex="-1"></a><span class="fu">daycount_frac</span>(imm[<span class="dv">1</span><span class="dt">L</span>], imm[<span class="sc">-</span><span class="dv">1</span><span class="dt">L</span>], <span class="st">&quot;ACT/360&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>## [1] 0.2527778 0.5055556 0.7583333 1.0111111
</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
